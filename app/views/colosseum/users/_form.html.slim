.field
  = form.label(:name, class: "label")
  .control
    = form.text_field(:name, class: "input", required: true)
= form.fields_for(:profile) do |form|
  .field
    = form.label(:begin_greeting_message, class: "label")
    .control
      = form.text_area(:begin_greeting_message, class: "textarea", rows: [form.object.begin_greeting_message.to_s.lines.count, 1].max)
  .field
    = form.label(:end_greeting_message, class: "label")
    .control
      = form.text_area(:end_greeting_message, class: "textarea", rows: [form.object.end_greeting_message.to_s.lines.count, 1].max)
.field
  = form.label(:avatar, class: "label")
  .control
    = form.file_field(:avatar, class: "input")
    = image_tag form.object.avatar_url, size: "256"
    / - if form.object.avatar.attached?
    / - else
    /   = image_tag("character_game_syougi.png", size: "128")


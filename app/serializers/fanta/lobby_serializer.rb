require File.expand_path('../../../../config/environment', __FILE__) if $0 == __FILE__

module Fanta
  class LobbySerializer < ApplicationSerializer
    def id
    end

    has_many :battles, serializer: BattleEachSerializer do
      Fanta::Battle.st_battling.latest_list
    end

    has_many :lobby_messages do
      Fanta::LobbyMessage.latest_list.reverse
    end

    has_many :online_users, serializer: ChatUserSerializer do
      Fanta::User.online_only.order(online_at: :desc)
    end
  end

  if $0 == __FILE__
    pp ams_sr({}, serializer: LobbySerializer, include: {battles: {memberships: :user}, lobby_messages: :user, online_users: {}})
  end
end
# >> ["/Users/ikeda/src/shogi_web/config/initializers/0180_active_model_serializers.rb:11", nil, :ams_sr]
# >> I, [2018-06-14T17:41:58.604656 #47356]  INFO -- : Rendered Fanta::LobbySerializer with ActiveModelSerializers::Adapter::Attributes (2185.56ms)
# >> {:id=>nil,
# >>  :battles=>
# >>   [{:id=>29,
# >>     :name=>"#29",
# >>     :show_path=>"/online/battles/29",
# >>     :xstate_info=>
# >>      #<Fanta::XstateInfo:0x00007fea597d9448
# >>       @attributes=
# >>        {:key=>:st_battling,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :watch_ships_count=>0,
# >>     :memberships=>
# >>      [{:id=>113,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>4,
# >>          :name=>"野良4号",
# >>          :show_path=>"/online/users/4",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0004_fallback_header_avatar_image-60d0ee5b89cc9af1271916611c205c0f7d5011e47fa0aad9331a019f7f0d531c.png"}},
# >>       {:id=>114,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>8,
# >>          :name=>"野良8号",
# >>          :show_path=>"/online/users/8",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0008_fallback_header_avatar_image-fdb3f4b4f7d685257d6f0c141e0e7274c831d78c666c981d6871dcaadd4005b5.png"}},
# >>       {:id=>115,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>3,
# >>          :name=>"野良3号",
# >>          :show_path=>"/online/users/3",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0003_fallback_header_avatar_image-c9d62836ef5033a7019edd5d300b8c77b72d4388abc5233772ffd04f0652907b.png"}},
# >>       {:id=>116,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>10,
# >>          :name=>"野良10号",
# >>          :show_path=>"/online/users/10",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0010_fallback_header_avatar_image-2d78a23f5dcbce94503a8c86ebb541a45db7a9955234eef64f6ca55d729d9014.png"}}]},
# >>    {:id=>32,
# >>     :name=>"#32",
# >>     :show_path=>"/online/battles/32",
# >>     :xstate_info=>
# >>      #<Fanta::XstateInfo:0x00007fea597d9448
# >>       @attributes=
# >>        {:key=>:st_battling,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :watch_ships_count=>0,
# >>     :memberships=>
# >>      [{:id=>125,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>5,
# >>          :name=>"野良5号",
# >>          :show_path=>"/online/users/5",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0005_fallback_header_avatar_image-23fef5e29f1f1e7a094d51913455532d6c7b47fd86af129ecdfde9b1f11ea6d3.png"}},
# >>       {:id=>126,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>2,
# >>          :name=>"野良2号",
# >>          :show_path=>"/online/users/2",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0002_fallback_header_avatar_image-41f850da24dfc62d55b5cf6c99694552aaab1a61aaee8404fc20321364e7a3cf.png"}},
# >>       {:id=>127,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>4,
# >>          :name=>"野良4号",
# >>          :show_path=>"/online/users/4",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0004_fallback_header_avatar_image-60d0ee5b89cc9af1271916611c205c0f7d5011e47fa0aad9331a019f7f0d531c.png"}},
# >>       {:id=>128,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>9,
# >>          :name=>"野良9号",
# >>          :show_path=>"/online/users/9",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0009_fallback_header_avatar_image-503ddf1bd84dcf9df26a4d33a5400764ba760075823365979e20c5bd17211e54.png"}}]},
# >>    {:id=>37,
# >>     :name=>"#37",
# >>     :show_path=>"/online/battles/37",
# >>     :xstate_info=>
# >>      #<Fanta::XstateInfo:0x00007fea597d9448
# >>       @attributes=
# >>        {:key=>:st_battling,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :watch_ships_count=>0,
# >>     :memberships=>
# >>      [{:id=>145,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>4,
# >>          :name=>"野良4号",
# >>          :show_path=>"/online/users/4",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0004_fallback_header_avatar_image-60d0ee5b89cc9af1271916611c205c0f7d5011e47fa0aad9331a019f7f0d531c.png"}},
# >>       {:id=>146,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"野良1号",
# >>          :show_path=>"/online/users/1",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0001_fallback_header_avatar_image-284f2a88b11d10910bdb24966f6febeaaf7f38678452998c949b8aa69a101221.png"}},
# >>       {:id=>147,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>2,
# >>          :name=>"野良2号",
# >>          :show_path=>"/online/users/2",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0002_fallback_header_avatar_image-41f850da24dfc62d55b5cf6c99694552aaab1a61aaee8404fc20321364e7a3cf.png"}},
# >>       {:id=>148,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>6,
# >>          :name=>"野良6号",
# >>          :show_path=>"/online/users/6",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0006_fallback_header_avatar_image-dcac8e0f473d06b96f052d464272bd7a5c048461f6abadc1cf54dfa311d77581.png"}}]},
# >>    {:id=>43,
# >>     :name=>"#43",
# >>     :show_path=>"/online/battles/43",
# >>     :xstate_info=>
# >>      #<Fanta::XstateInfo:0x00007fea597d9448
# >>       @attributes=
# >>        {:key=>:st_battling,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :watch_ships_count=>0,
# >>     :memberships=>
# >>      [{:id=>169,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>4,
# >>          :name=>"野良4号",
# >>          :show_path=>"/online/users/4",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0004_fallback_header_avatar_image-60d0ee5b89cc9af1271916611c205c0f7d5011e47fa0aad9331a019f7f0d531c.png"}},
# >>       {:id=>170,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>2,
# >>          :name=>"野良2号",
# >>          :show_path=>"/online/users/2",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0002_fallback_header_avatar_image-41f850da24dfc62d55b5cf6c99694552aaab1a61aaee8404fc20321364e7a3cf.png"}},
# >>       {:id=>171,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>10,
# >>          :name=>"野良10号",
# >>          :show_path=>"/online/users/10",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0010_fallback_header_avatar_image-2d78a23f5dcbce94503a8c86ebb541a45db7a9955234eef64f6ca55d729d9014.png"}},
# >>       {:id=>172,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>8,
# >>          :name=>"野良8号",
# >>          :show_path=>"/online/users/8",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0008_fallback_header_avatar_image-fdb3f4b4f7d685257d6f0c141e0e7274c831d78c666c981d6871dcaadd4005b5.png"}}]},
# >>    {:id=>1,
# >>     :name=>"#1",
# >>     :show_path=>"/online/battles/1",
# >>     :xstate_info=>
# >>      #<Fanta::XstateInfo:0x00007fea597d9448
# >>       @attributes=
# >>        {:key=>:st_battling,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :watch_ships_count=>0,
# >>     :memberships=>
# >>      [{:id=>1,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>6,
# >>          :name=>"野良6号",
# >>          :show_path=>"/online/users/6",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0006_fallback_header_avatar_image-dcac8e0f473d06b96f052d464272bd7a5c048461f6abadc1cf54dfa311d77581.png"}},
# >>       {:id=>2,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>2,
# >>          :name=>"野良2号",
# >>          :show_path=>"/online/users/2",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0002_fallback_header_avatar_image-41f850da24dfc62d55b5cf6c99694552aaab1a61aaee8404fc20321364e7a3cf.png"}},
# >>       {:id=>3,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>7,
# >>          :name=>"野良7号",
# >>          :show_path=>"/online/users/7",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0007_fallback_header_avatar_image-f4865abaf4bbe1d91c592f11e5e78d97abcc7f76e4273e7d7995796b684cdba6.png"}},
# >>       {:id=>4,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>9,
# >>          :name=>"野良9号",
# >>          :show_path=>"/online/users/9",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0009_fallback_header_avatar_image-503ddf1bd84dcf9df26a4d33a5400764ba760075823365979e20c5bd17211e54.png"}}]},
# >>    {:id=>4,
# >>     :name=>"#4",
# >>     :show_path=>"/online/battles/4",
# >>     :xstate_info=>
# >>      #<Fanta::XstateInfo:0x00007fea597d9448
# >>       @attributes=
# >>        {:key=>:st_battling,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :watch_ships_count=>0,
# >>     :memberships=>
# >>      [{:id=>13,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>5,
# >>          :name=>"野良5号",
# >>          :show_path=>"/online/users/5",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0005_fallback_header_avatar_image-23fef5e29f1f1e7a094d51913455532d6c7b47fd86af129ecdfde9b1f11ea6d3.png"}},
# >>       {:id=>14,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>7,
# >>          :name=>"野良7号",
# >>          :show_path=>"/online/users/7",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0007_fallback_header_avatar_image-f4865abaf4bbe1d91c592f11e5e78d97abcc7f76e4273e7d7995796b684cdba6.png"}},
# >>       {:id=>15,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>4,
# >>          :name=>"野良4号",
# >>          :show_path=>"/online/users/4",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0004_fallback_header_avatar_image-60d0ee5b89cc9af1271916611c205c0f7d5011e47fa0aad9331a019f7f0d531c.png"}},
# >>       {:id=>16,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>2,
# >>          :name=>"野良2号",
# >>          :show_path=>"/online/users/2",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0002_fallback_header_avatar_image-41f850da24dfc62d55b5cf6c99694552aaab1a61aaee8404fc20321364e7a3cf.png"}}]},
# >>    {:id=>6,
# >>     :name=>"#6",
# >>     :show_path=>"/online/battles/6",
# >>     :xstate_info=>
# >>      #<Fanta::XstateInfo:0x00007fea597d9448
# >>       @attributes=
# >>        {:key=>:st_battling,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :watch_ships_count=>0,
# >>     :memberships=>
# >>      [{:id=>21,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>6,
# >>          :name=>"野良6号",
# >>          :show_path=>"/online/users/6",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0006_fallback_header_avatar_image-dcac8e0f473d06b96f052d464272bd7a5c048461f6abadc1cf54dfa311d77581.png"}},
# >>       {:id=>22,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>7,
# >>          :name=>"野良7号",
# >>          :show_path=>"/online/users/7",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0007_fallback_header_avatar_image-f4865abaf4bbe1d91c592f11e5e78d97abcc7f76e4273e7d7995796b684cdba6.png"}},
# >>       {:id=>23,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>10,
# >>          :name=>"野良10号",
# >>          :show_path=>"/online/users/10",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0010_fallback_header_avatar_image-2d78a23f5dcbce94503a8c86ebb541a45db7a9955234eef64f6ca55d729d9014.png"}},
# >>       {:id=>24,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>4,
# >>          :name=>"野良4号",
# >>          :show_path=>"/online/users/4",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0004_fallback_header_avatar_image-60d0ee5b89cc9af1271916611c205c0f7d5011e47fa0aad9331a019f7f0d531c.png"}}]},
# >>    {:id=>9,
# >>     :name=>"#9",
# >>     :show_path=>"/online/battles/9",
# >>     :xstate_info=>
# >>      #<Fanta::XstateInfo:0x00007fea597d9448
# >>       @attributes=
# >>        {:key=>:st_battling,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :watch_ships_count=>0,
# >>     :memberships=>
# >>      [{:id=>33,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"野良1号",
# >>          :show_path=>"/online/users/1",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0001_fallback_header_avatar_image-284f2a88b11d10910bdb24966f6febeaaf7f38678452998c949b8aa69a101221.png"}},
# >>       {:id=>34,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>7,
# >>          :name=>"野良7号",
# >>          :show_path=>"/online/users/7",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0007_fallback_header_avatar_image-f4865abaf4bbe1d91c592f11e5e78d97abcc7f76e4273e7d7995796b684cdba6.png"}},
# >>       {:id=>35,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>9,
# >>          :name=>"野良9号",
# >>          :show_path=>"/online/users/9",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0009_fallback_header_avatar_image-503ddf1bd84dcf9df26a4d33a5400764ba760075823365979e20c5bd17211e54.png"}},
# >>       {:id=>36,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>3,
# >>          :name=>"野良3号",
# >>          :show_path=>"/online/users/3",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0003_fallback_header_avatar_image-c9d62836ef5033a7019edd5d300b8c77b72d4388abc5233772ffd04f0652907b.png"}}]},
# >>    {:id=>11,
# >>     :name=>"#11",
# >>     :show_path=>"/online/battles/11",
# >>     :xstate_info=>
# >>      #<Fanta::XstateInfo:0x00007fea597d9448
# >>       @attributes=
# >>        {:key=>:st_battling,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :watch_ships_count=>0,
# >>     :memberships=>
# >>      [{:id=>41,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"野良1号",
# >>          :show_path=>"/online/users/1",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0001_fallback_header_avatar_image-284f2a88b11d10910bdb24966f6febeaaf7f38678452998c949b8aa69a101221.png"}},
# >>       {:id=>42,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>2,
# >>          :name=>"野良2号",
# >>          :show_path=>"/online/users/2",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0002_fallback_header_avatar_image-41f850da24dfc62d55b5cf6c99694552aaab1a61aaee8404fc20321364e7a3cf.png"}},
# >>       {:id=>43,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>5,
# >>          :name=>"野良5号",
# >>          :show_path=>"/online/users/5",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0005_fallback_header_avatar_image-23fef5e29f1f1e7a094d51913455532d6c7b47fd86af129ecdfde9b1f11ea6d3.png"}},
# >>       {:id=>44,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>6,
# >>          :name=>"野良6号",
# >>          :show_path=>"/online/users/6",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0006_fallback_header_avatar_image-dcac8e0f473d06b96f052d464272bd7a5c048461f6abadc1cf54dfa311d77581.png"}}]},
# >>    {:id=>12,
# >>     :name=>"#12",
# >>     :show_path=>"/online/battles/12",
# >>     :xstate_info=>
# >>      #<Fanta::XstateInfo:0x00007fea597d9448
# >>       @attributes=
# >>        {:key=>:st_battling,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :watch_ships_count=>0,
# >>     :memberships=>
# >>      [{:id=>45,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>4,
# >>          :name=>"野良4号",
# >>          :show_path=>"/online/users/4",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0004_fallback_header_avatar_image-60d0ee5b89cc9af1271916611c205c0f7d5011e47fa0aad9331a019f7f0d531c.png"}},
# >>       {:id=>46,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>2,
# >>          :name=>"野良2号",
# >>          :show_path=>"/online/users/2",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0002_fallback_header_avatar_image-41f850da24dfc62d55b5cf6c99694552aaab1a61aaee8404fc20321364e7a3cf.png"}},
# >>       {:id=>47,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"野良1号",
# >>          :show_path=>"/online/users/1",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0001_fallback_header_avatar_image-284f2a88b11d10910bdb24966f6febeaaf7f38678452998c949b8aa69a101221.png"}},
# >>       {:id=>48,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>8,
# >>          :name=>"野良8号",
# >>          :show_path=>"/online/users/8",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0008_fallback_header_avatar_image-fdb3f4b4f7d685257d6f0c141e0e7274c831d78c666c981d6871dcaadd4005b5.png"}}]},
# >>    {:id=>14,
# >>     :name=>"#14",
# >>     :show_path=>"/online/battles/14",
# >>     :xstate_info=>
# >>      #<Fanta::XstateInfo:0x00007fea597d9448
# >>       @attributes=
# >>        {:key=>:st_battling,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :watch_ships_count=>0,
# >>     :memberships=>
# >>      [{:id=>53,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>3,
# >>          :name=>"野良3号",
# >>          :show_path=>"/online/users/3",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0003_fallback_header_avatar_image-c9d62836ef5033a7019edd5d300b8c77b72d4388abc5233772ffd04f0652907b.png"}},
# >>       {:id=>54,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>6,
# >>          :name=>"野良6号",
# >>          :show_path=>"/online/users/6",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0006_fallback_header_avatar_image-dcac8e0f473d06b96f052d464272bd7a5c048461f6abadc1cf54dfa311d77581.png"}},
# >>       {:id=>55,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>2,
# >>          :name=>"野良2号",
# >>          :show_path=>"/online/users/2",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0002_fallback_header_avatar_image-41f850da24dfc62d55b5cf6c99694552aaab1a61aaee8404fc20321364e7a3cf.png"}},
# >>       {:id=>56,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"野良1号",
# >>          :show_path=>"/online/users/1",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0001_fallback_header_avatar_image-284f2a88b11d10910bdb24966f6febeaaf7f38678452998c949b8aa69a101221.png"}}]},
# >>    {:id=>15,
# >>     :name=>"#15",
# >>     :show_path=>"/online/battles/15",
# >>     :xstate_info=>
# >>      #<Fanta::XstateInfo:0x00007fea597d9448
# >>       @attributes=
# >>        {:key=>:st_battling,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :watch_ships_count=>0,
# >>     :memberships=>
# >>      [{:id=>57,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>3,
# >>          :name=>"野良3号",
# >>          :show_path=>"/online/users/3",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0003_fallback_header_avatar_image-c9d62836ef5033a7019edd5d300b8c77b72d4388abc5233772ffd04f0652907b.png"}},
# >>       {:id=>58,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>4,
# >>          :name=>"野良4号",
# >>          :show_path=>"/online/users/4",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0004_fallback_header_avatar_image-60d0ee5b89cc9af1271916611c205c0f7d5011e47fa0aad9331a019f7f0d531c.png"}},
# >>       {:id=>59,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>6,
# >>          :name=>"野良6号",
# >>          :show_path=>"/online/users/6",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0006_fallback_header_avatar_image-dcac8e0f473d06b96f052d464272bd7a5c048461f6abadc1cf54dfa311d77581.png"}},
# >>       {:id=>60,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>2,
# >>          :name=>"野良2号",
# >>          :show_path=>"/online/users/2",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0002_fallback_header_avatar_image-41f850da24dfc62d55b5cf6c99694552aaab1a61aaee8404fc20321364e7a3cf.png"}}]},
# >>    {:id=>16,
# >>     :name=>"#16",
# >>     :show_path=>"/online/battles/16",
# >>     :xstate_info=>
# >>      #<Fanta::XstateInfo:0x00007fea597d9448
# >>       @attributes=
# >>        {:key=>:st_battling,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :watch_ships_count=>0,
# >>     :memberships=>
# >>      [{:id=>61,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>10,
# >>          :name=>"野良10号",
# >>          :show_path=>"/online/users/10",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0010_fallback_header_avatar_image-2d78a23f5dcbce94503a8c86ebb541a45db7a9955234eef64f6ca55d729d9014.png"}},
# >>       {:id=>62,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>8,
# >>          :name=>"野良8号",
# >>          :show_path=>"/online/users/8",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0008_fallback_header_avatar_image-fdb3f4b4f7d685257d6f0c141e0e7274c831d78c666c981d6871dcaadd4005b5.png"}},
# >>       {:id=>63,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>6,
# >>          :name=>"野良6号",
# >>          :show_path=>"/online/users/6",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0006_fallback_header_avatar_image-dcac8e0f473d06b96f052d464272bd7a5c048461f6abadc1cf54dfa311d77581.png"}},
# >>       {:id=>64,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>4,
# >>          :name=>"野良4号",
# >>          :show_path=>"/online/users/4",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0004_fallback_header_avatar_image-60d0ee5b89cc9af1271916611c205c0f7d5011e47fa0aad9331a019f7f0d531c.png"}}]},
# >>    {:id=>24,
# >>     :name=>"#24",
# >>     :show_path=>"/online/battles/24",
# >>     :xstate_info=>
# >>      #<Fanta::XstateInfo:0x00007fea597d9448
# >>       @attributes=
# >>        {:key=>:st_battling,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :watch_ships_count=>0,
# >>     :memberships=>
# >>      [{:id=>93,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>6,
# >>          :name=>"野良6号",
# >>          :show_path=>"/online/users/6",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0006_fallback_header_avatar_image-dcac8e0f473d06b96f052d464272bd7a5c048461f6abadc1cf54dfa311d77581.png"}},
# >>       {:id=>94,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>4,
# >>          :name=>"野良4号",
# >>          :show_path=>"/online/users/4",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0004_fallback_header_avatar_image-60d0ee5b89cc9af1271916611c205c0f7d5011e47fa0aad9331a019f7f0d531c.png"}},
# >>       {:id=>95,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>2,
# >>          :name=>"野良2号",
# >>          :show_path=>"/online/users/2",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0002_fallback_header_avatar_image-41f850da24dfc62d55b5cf6c99694552aaab1a61aaee8404fc20321364e7a3cf.png"}},
# >>       {:id=>96,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>10,
# >>          :name=>"野良10号",
# >>          :show_path=>"/online/users/10",
# >>          :avatar_url=>
# >>           "/assets/fallback_avatars/0010_fallback_header_avatar_image-2d78a23f5dcbce94503a8c86ebb541a45db7a9955234eef64f6ca55d729d9014.png"}}]}],
# >>  :lobby_messages=>[],
# >>  :online_users=>
# >>   [{:id=>1,
# >>     :name=>"野良1号",
# >>     :show_path=>"/online/users/1",
# >>     :avatar_url=>
# >>      "/assets/fallback_avatars/0001_fallback_header_avatar_image-284f2a88b11d10910bdb24966f6febeaaf7f38678452998c949b8aa69a101221.png",
# >>     :fighting_at=>nil,
# >>     :matching_at=>nil},
# >>    {:id=>2,
# >>     :name=>"野良2号",
# >>     :show_path=>"/online/users/2",
# >>     :avatar_url=>
# >>      "/assets/fallback_avatars/0002_fallback_header_avatar_image-41f850da24dfc62d55b5cf6c99694552aaab1a61aaee8404fc20321364e7a3cf.png",
# >>     :fighting_at=>nil,
# >>     :matching_at=>nil},
# >>    {:id=>3,
# >>     :name=>"野良3号",
# >>     :show_path=>"/online/users/3",
# >>     :avatar_url=>
# >>      "/assets/fallback_avatars/0003_fallback_header_avatar_image-c9d62836ef5033a7019edd5d300b8c77b72d4388abc5233772ffd04f0652907b.png",
# >>     :fighting_at=>nil,
# >>     :matching_at=>nil},
# >>    {:id=>4,
# >>     :name=>"野良4号",
# >>     :show_path=>"/online/users/4",
# >>     :avatar_url=>
# >>      "/assets/fallback_avatars/0004_fallback_header_avatar_image-60d0ee5b89cc9af1271916611c205c0f7d5011e47fa0aad9331a019f7f0d531c.png",
# >>     :fighting_at=>nil,
# >>     :matching_at=>nil},
# >>    {:id=>5,
# >>     :name=>"野良5号",
# >>     :show_path=>"/online/users/5",
# >>     :avatar_url=>
# >>      "/assets/fallback_avatars/0005_fallback_header_avatar_image-23fef5e29f1f1e7a094d51913455532d6c7b47fd86af129ecdfde9b1f11ea6d3.png",
# >>     :fighting_at=>nil,
# >>     :matching_at=>nil},
# >>    {:id=>6,
# >>     :name=>"野良6号",
# >>     :show_path=>"/online/users/6",
# >>     :avatar_url=>
# >>      "/assets/fallback_avatars/0006_fallback_header_avatar_image-dcac8e0f473d06b96f052d464272bd7a5c048461f6abadc1cf54dfa311d77581.png",
# >>     :fighting_at=>nil,
# >>     :matching_at=>nil},
# >>    {:id=>7,
# >>     :name=>"野良7号",
# >>     :show_path=>"/online/users/7",
# >>     :avatar_url=>
# >>      "/assets/fallback_avatars/0007_fallback_header_avatar_image-f4865abaf4bbe1d91c592f11e5e78d97abcc7f76e4273e7d7995796b684cdba6.png",
# >>     :fighting_at=>nil,
# >>     :matching_at=>nil},
# >>    {:id=>8,
# >>     :name=>"野良8号",
# >>     :show_path=>"/online/users/8",
# >>     :avatar_url=>
# >>      "/assets/fallback_avatars/0008_fallback_header_avatar_image-fdb3f4b4f7d685257d6f0c141e0e7274c831d78c666c981d6871dcaadd4005b5.png",
# >>     :fighting_at=>nil,
# >>     :matching_at=>nil},
# >>    {:id=>9,
# >>     :name=>"野良9号",
# >>     :show_path=>"/online/users/9",
# >>     :avatar_url=>
# >>      "/assets/fallback_avatars/0009_fallback_header_avatar_image-503ddf1bd84dcf9df26a4d33a5400764ba760075823365979e20c5bd17211e54.png",
# >>     :fighting_at=>nil,
# >>     :matching_at=>nil},
# >>    {:id=>10,
# >>     :name=>"野良10号",
# >>     :show_path=>"/online/users/10",
# >>     :avatar_url=>
# >>      "/assets/fallback_avatars/0010_fallback_header_avatar_image-2d78a23f5dcbce94503a8c86ebb541a45db7a9955234eef64f6ca55d729d9014.png",
# >>     :fighting_at=>nil,
# >>     :matching_at=>nil}]}

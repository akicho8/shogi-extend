require File.expand_path('../../../../config/environment', __FILE__) if $0 == __FILE__

module Colosseum
  class UserProfileSerializer < SimpleUserSerializer
    has_many :battles do
      object.battles.latest_list_for_profile
    end

    class BattleSerializer < ApplicationSerializer
      attributes :name, :show_path
      attributes :win_location_key
      attributes :begin_at, :end_at
      attributes :xstate_info, :turn_max

      has_many :memberships

      class MembershipSerializer < ApplicationSerializer
        attributes :location_key
        belongs_to :user, serializer: SimpleUserSerializer
      end
    end
  end

  if $0 == __FILE__
    pp ams_sr(User.first, include: {battles: {memberships: :user}}, serializer: UserProfileSerializer)
  end
end
# >> {:id=>1,
# >>  :name=>"運営",
# >>  :show_path=>"/colosseum/users/1",
# >>  :avatar_url=>
# >>   "/assets/human/0013_fallback_avatar_icon-7ccc24e76f53875ea71137f6079ae8ad0657b15e80aeed6852501da430e757df.png",
# >>  :race_key=>"human",
# >>  :win_count=>0,
# >>  :lose_count=>0,
# >>  :win_ratio=>0.0,
# >>  :battles=>
# >>   [{:id=>43,
# >>     :name=>"#43",
# >>     :show_path=>"/colosseum/battles/43",
# >>     :win_location_key=>nil,
# >>     :begin_at=>Fri, 03 Aug 2018 21:43:21 JST +09:00,
# >>     :end_at=>nil,
# >>     :xstate_info=>
# >>      #<Colosseum::XstateInfo:0x00007fd43ce55d68
# >>       @attributes=
# >>        {:key=>:st_battle_now,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :memberships=>
# >>      [{:id=>169,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"運営",
# >>          :show_path=>"/colosseum/users/1",
# >>          :avatar_url=>
# >>           "/assets/human/0013_fallback_avatar_icon-7ccc24e76f53875ea71137f6079ae8ad0657b15e80aeed6852501da430e757df.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>170,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>2,
# >>          :name=>"ルール覚えたてのCPU",
# >>          :show_path=>"/colosseum/users/2",
# >>          :avatar_url=>
# >>           "/assets/robot/0110_robot-e704feafb4d5b9c5bdc19e6e70d310f7bccafa00f22cdb9e32f7c8cdc321b71a.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>171,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>10,
# >>          :name=>"30分考えるCPU",
# >>          :show_path=>"/colosseum/users/10",
# >>          :avatar_url=>
# >>           "/assets/robot/0100_robot-66c73ea6ee9d1d87bad3f3b22739b74cbe9bdba17b06e9f65a8f7f63b6fb2467.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>172,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>9,
# >>          :name=>"3分考えるCPU",
# >>          :show_path=>"/colosseum/users/9",
# >>          :avatar_url=>
# >>           "/assets/robot/0120_robot-da4aa855dd2b8d97caf50f6c9a2155fc19e8fea5252c86a38f23c864a743f2b1.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}}]},
# >>    {:id=>17,
# >>     :name=>"#17",
# >>     :show_path=>"/colosseum/battles/17",
# >>     :win_location_key=>nil,
# >>     :begin_at=>Fri, 03 Aug 2018 21:43:16 JST +09:00,
# >>     :end_at=>Fri, 03 Aug 2018 21:43:16 JST +09:00,
# >>     :xstate_info=>
# >>      #<Colosseum::XstateInfo:0x00007fd43ce55bd8
# >>       @attributes={:key=>:st_done, :name=>"終局", :color=>"", :code=>2}>,
# >>     :turn_max=>0,
# >>     :memberships=>
# >>      [{:id=>65,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"運営",
# >>          :show_path=>"/colosseum/users/1",
# >>          :avatar_url=>
# >>           "/assets/human/0013_fallback_avatar_icon-7ccc24e76f53875ea71137f6079ae8ad0657b15e80aeed6852501da430e757df.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>66,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>7,
# >>          :name=>"弱いCPU",
# >>          :show_path=>"/colosseum/users/7",
# >>          :avatar_url=>
# >>           "/assets/robot/0140_robot-31e558f84b967f63efd70bcfd54af2398ab701b0102470e503d349192dbb35da.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>67,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>3,
# >>          :name=>"あきれるほど弱いCPU",
# >>          :show_path=>"/colosseum/users/3",
# >>          :avatar_url=>
# >>           "/assets/robot/0120_robot-da4aa855dd2b8d97caf50f6c9a2155fc19e8fea5252c86a38f23c864a743f2b1.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>68,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>5,
# >>          :name=>"めちゃくちゃ弱いCPU",
# >>          :show_path=>"/colosseum/users/5",
# >>          :avatar_url=>
# >>           "/assets/robot/0150_robot-619f7c7c4831fffd861716e3c76fe47c8605b2a036522a89d2635078b20bc213.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}}]},
# >>    {:id=>7,
# >>     :name=>"#7",
# >>     :show_path=>"/colosseum/battles/7",
# >>     :win_location_key=>nil,
# >>     :begin_at=>Fri, 03 Aug 2018 21:43:15 JST +09:00,
# >>     :end_at=>nil,
# >>     :xstate_info=>
# >>      #<Colosseum::XstateInfo:0x00007fd43ce55d68
# >>       @attributes=
# >>        {:key=>:st_battle_now,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :memberships=>
# >>      [{:id=>25,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"運営",
# >>          :show_path=>"/colosseum/users/1",
# >>          :avatar_url=>
# >>           "/assets/human/0013_fallback_avatar_icon-7ccc24e76f53875ea71137f6079ae8ad0657b15e80aeed6852501da430e757df.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>26,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>12,
# >>          :name=>"名無しの棋士3号",
# >>          :show_path=>"/colosseum/users/12",
# >>          :avatar_url=>
# >>           "/assets/human/0021_fallback_avatar_icon-35f7d2753708660f1028e234d7214edb783933bb8b41335c3cf9c1ba3bc171f2.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>27,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>6,
# >>          :name=>"かなり弱いCPU",
# >>          :show_path=>"/colosseum/users/6",
# >>          :avatar_url=>
# >>           "/assets/robot/0130_robot-fd50cb547420b0fd51a8f0c0e2c101d0ea25c5b93e47f66a3dd5e71c5ba51b62.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>28,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>4,
# >>          :name=>"ありえないほど弱いCPU",
# >>          :show_path=>"/colosseum/users/4",
# >>          :avatar_url=>
# >>           "/assets/robot/0100_robot-66c73ea6ee9d1d87bad3f3b22739b74cbe9bdba17b06e9f65a8f7f63b6fb2467.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}}]},
# >>    {:id=>32,
# >>     :name=>"#32",
# >>     :show_path=>"/colosseum/battles/32",
# >>     :win_location_key=>nil,
# >>     :begin_at=>Fri, 03 Aug 2018 21:43:19 JST +09:00,
# >>     :end_at=>nil,
# >>     :xstate_info=>
# >>      #<Colosseum::XstateInfo:0x00007fd43ce55d68
# >>       @attributes=
# >>        {:key=>:st_battle_now,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :memberships=>
# >>      [{:id=>125,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>8,
# >>          :name=>"最大1分考えるCPU",
# >>          :show_path=>"/colosseum/users/8",
# >>          :avatar_url=>
# >>           "/assets/robot/0110_robot-e704feafb4d5b9c5bdc19e6e70d310f7bccafa00f22cdb9e32f7c8cdc321b71a.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>126,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"運営",
# >>          :show_path=>"/colosseum/users/1",
# >>          :avatar_url=>
# >>           "/assets/human/0013_fallback_avatar_icon-7ccc24e76f53875ea71137f6079ae8ad0657b15e80aeed6852501da430e757df.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>127,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>2,
# >>          :name=>"ルール覚えたてのCPU",
# >>          :show_path=>"/colosseum/users/2",
# >>          :avatar_url=>
# >>           "/assets/robot/0110_robot-e704feafb4d5b9c5bdc19e6e70d310f7bccafa00f22cdb9e32f7c8cdc321b71a.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>128,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>7,
# >>          :name=>"弱いCPU",
# >>          :show_path=>"/colosseum/users/7",
# >>          :avatar_url=>
# >>           "/assets/robot/0140_robot-31e558f84b967f63efd70bcfd54af2398ab701b0102470e503d349192dbb35da.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}}]},
# >>    {:id=>13,
# >>     :name=>"#13",
# >>     :show_path=>"/colosseum/battles/13",
# >>     :win_location_key=>nil,
# >>     :begin_at=>Fri, 03 Aug 2018 21:43:16 JST +09:00,
# >>     :end_at=>nil,
# >>     :xstate_info=>
# >>      #<Colosseum::XstateInfo:0x00007fd43ce55d68
# >>       @attributes=
# >>        {:key=>:st_battle_now,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :memberships=>
# >>      [{:id=>49,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>2,
# >>          :name=>"ルール覚えたてのCPU",
# >>          :show_path=>"/colosseum/users/2",
# >>          :avatar_url=>
# >>           "/assets/robot/0110_robot-e704feafb4d5b9c5bdc19e6e70d310f7bccafa00f22cdb9e32f7c8cdc321b71a.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>50,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"運営",
# >>          :show_path=>"/colosseum/users/1",
# >>          :avatar_url=>
# >>           "/assets/human/0013_fallback_avatar_icon-7ccc24e76f53875ea71137f6079ae8ad0657b15e80aeed6852501da430e757df.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>51,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>3,
# >>          :name=>"あきれるほど弱いCPU",
# >>          :show_path=>"/colosseum/users/3",
# >>          :avatar_url=>
# >>           "/assets/robot/0120_robot-da4aa855dd2b8d97caf50f6c9a2155fc19e8fea5252c86a38f23c864a743f2b1.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>52,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>12,
# >>          :name=>"名無しの棋士3号",
# >>          :show_path=>"/colosseum/users/12",
# >>          :avatar_url=>
# >>           "/assets/human/0021_fallback_avatar_icon-35f7d2753708660f1028e234d7214edb783933bb8b41335c3cf9c1ba3bc171f2.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}}]},
# >>    {:id=>14,
# >>     :name=>"#14",
# >>     :show_path=>"/colosseum/battles/14",
# >>     :win_location_key=>nil,
# >>     :begin_at=>Fri, 03 Aug 2018 21:43:16 JST +09:00,
# >>     :end_at=>Fri, 03 Aug 2018 21:43:16 JST +09:00,
# >>     :xstate_info=>
# >>      #<Colosseum::XstateInfo:0x00007fd43ce55bd8
# >>       @attributes={:key=>:st_done, :name=>"終局", :color=>"", :code=>2}>,
# >>     :turn_max=>0,
# >>     :memberships=>
# >>      [{:id=>53,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>7,
# >>          :name=>"弱いCPU",
# >>          :show_path=>"/colosseum/users/7",
# >>          :avatar_url=>
# >>           "/assets/robot/0140_robot-31e558f84b967f63efd70bcfd54af2398ab701b0102470e503d349192dbb35da.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>54,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"運営",
# >>          :show_path=>"/colosseum/users/1",
# >>          :avatar_url=>
# >>           "/assets/human/0013_fallback_avatar_icon-7ccc24e76f53875ea71137f6079ae8ad0657b15e80aeed6852501da430e757df.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>55,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>11,
# >>          :name=>"名無しの棋士2号",
# >>          :show_path=>"/colosseum/users/11",
# >>          :avatar_url=>
# >>           "/assets/human/0029_fallback_avatar_icon-b0ed0ceabf44431543557975f9b1653d14e2cf93e0ace0d981301c8adebcc57f.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>56,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>3,
# >>          :name=>"あきれるほど弱いCPU",
# >>          :show_path=>"/colosseum/users/3",
# >>          :avatar_url=>
# >>           "/assets/robot/0120_robot-da4aa855dd2b8d97caf50f6c9a2155fc19e8fea5252c86a38f23c864a743f2b1.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}}]},
# >>    {:id=>9,
# >>     :name=>"#9",
# >>     :show_path=>"/colosseum/battles/9",
# >>     :win_location_key=>nil,
# >>     :begin_at=>nil,
# >>     :end_at=>nil,
# >>     :xstate_info=>
# >>      #<Colosseum::XstateInfo:0x00007fd43ce55ef8
# >>       @attributes=
# >>        {:key=>:st_before, :name=>"開始前", :color=>"has-text-success", :code=>0}>,
# >>     :turn_max=>0,
# >>     :memberships=>
# >>      [{:id=>33,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>3,
# >>          :name=>"あきれるほど弱いCPU",
# >>          :show_path=>"/colosseum/users/3",
# >>          :avatar_url=>
# >>           "/assets/robot/0120_robot-da4aa855dd2b8d97caf50f6c9a2155fc19e8fea5252c86a38f23c864a743f2b1.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>34,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"運営",
# >>          :show_path=>"/colosseum/users/1",
# >>          :avatar_url=>
# >>           "/assets/human/0013_fallback_avatar_icon-7ccc24e76f53875ea71137f6079ae8ad0657b15e80aeed6852501da430e757df.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>35,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>5,
# >>          :name=>"めちゃくちゃ弱いCPU",
# >>          :show_path=>"/colosseum/users/5",
# >>          :avatar_url=>
# >>           "/assets/robot/0150_robot-619f7c7c4831fffd861716e3c76fe47c8605b2a036522a89d2635078b20bc213.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>36,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>7,
# >>          :name=>"弱いCPU",
# >>          :show_path=>"/colosseum/users/7",
# >>          :avatar_url=>
# >>           "/assets/robot/0140_robot-31e558f84b967f63efd70bcfd54af2398ab701b0102470e503d349192dbb35da.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}}]},
# >>    {:id=>1,
# >>     :name=>"#1",
# >>     :show_path=>"/colosseum/battles/1",
# >>     :win_location_key=>nil,
# >>     :begin_at=>nil,
# >>     :end_at=>nil,
# >>     :xstate_info=>
# >>      #<Colosseum::XstateInfo:0x00007fd43ce55ef8
# >>       @attributes=
# >>        {:key=>:st_before, :name=>"開始前", :color=>"has-text-success", :code=>0}>,
# >>     :turn_max=>0,
# >>     :memberships=>
# >>      [{:id=>1,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>8,
# >>          :name=>"最大1分考えるCPU",
# >>          :show_path=>"/colosseum/users/8",
# >>          :avatar_url=>
# >>           "/assets/robot/0110_robot-e704feafb4d5b9c5bdc19e6e70d310f7bccafa00f22cdb9e32f7c8cdc321b71a.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>2,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"運営",
# >>          :show_path=>"/colosseum/users/1",
# >>          :avatar_url=>
# >>           "/assets/human/0013_fallback_avatar_icon-7ccc24e76f53875ea71137f6079ae8ad0657b15e80aeed6852501da430e757df.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>3,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>6,
# >>          :name=>"かなり弱いCPU",
# >>          :show_path=>"/colosseum/users/6",
# >>          :avatar_url=>
# >>           "/assets/robot/0130_robot-fd50cb547420b0fd51a8f0c0e2c101d0ea25c5b93e47f66a3dd5e71c5ba51b62.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>4,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>11,
# >>          :name=>"名無しの棋士2号",
# >>          :show_path=>"/colosseum/users/11",
# >>          :avatar_url=>
# >>           "/assets/human/0029_fallback_avatar_icon-b0ed0ceabf44431543557975f9b1653d14e2cf93e0ace0d981301c8adebcc57f.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}}]},
# >>    {:id=>49,
# >>     :name=>"#49",
# >>     :show_path=>"/colosseum/battles/49",
# >>     :win_location_key=>nil,
# >>     :begin_at=>Fri, 03 Aug 2018 21:43:22 JST +09:00,
# >>     :end_at=>nil,
# >>     :xstate_info=>
# >>      #<Colosseum::XstateInfo:0x00007fd43ce55d68
# >>       @attributes=
# >>        {:key=>:st_battle_now,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :memberships=>
# >>      [{:id=>193,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>5,
# >>          :name=>"めちゃくちゃ弱いCPU",
# >>          :show_path=>"/colosseum/users/5",
# >>          :avatar_url=>
# >>           "/assets/robot/0150_robot-619f7c7c4831fffd861716e3c76fe47c8605b2a036522a89d2635078b20bc213.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>194,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>3,
# >>          :name=>"あきれるほど弱いCPU",
# >>          :show_path=>"/colosseum/users/3",
# >>          :avatar_url=>
# >>           "/assets/robot/0120_robot-da4aa855dd2b8d97caf50f6c9a2155fc19e8fea5252c86a38f23c864a743f2b1.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>195,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"運営",
# >>          :show_path=>"/colosseum/users/1",
# >>          :avatar_url=>
# >>           "/assets/human/0013_fallback_avatar_icon-7ccc24e76f53875ea71137f6079ae8ad0657b15e80aeed6852501da430e757df.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>196,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>12,
# >>          :name=>"名無しの棋士3号",
# >>          :show_path=>"/colosseum/users/12",
# >>          :avatar_url=>
# >>           "/assets/human/0021_fallback_avatar_icon-35f7d2753708660f1028e234d7214edb783933bb8b41335c3cf9c1ba3bc171f2.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}}]},
# >>    {:id=>50,
# >>     :name=>"#50",
# >>     :show_path=>"/colosseum/battles/50",
# >>     :win_location_key=>nil,
# >>     :begin_at=>nil,
# >>     :end_at=>nil,
# >>     :xstate_info=>
# >>      #<Colosseum::XstateInfo:0x00007fd43ce55ef8
# >>       @attributes=
# >>        {:key=>:st_before, :name=>"開始前", :color=>"has-text-success", :code=>0}>,
# >>     :turn_max=>0,
# >>     :memberships=>
# >>      [{:id=>197,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>3,
# >>          :name=>"あきれるほど弱いCPU",
# >>          :show_path=>"/colosseum/users/3",
# >>          :avatar_url=>
# >>           "/assets/robot/0120_robot-da4aa855dd2b8d97caf50f6c9a2155fc19e8fea5252c86a38f23c864a743f2b1.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>198,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>2,
# >>          :name=>"ルール覚えたてのCPU",
# >>          :show_path=>"/colosseum/users/2",
# >>          :avatar_url=>
# >>           "/assets/robot/0110_robot-e704feafb4d5b9c5bdc19e6e70d310f7bccafa00f22cdb9e32f7c8cdc321b71a.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>199,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"運営",
# >>          :show_path=>"/colosseum/users/1",
# >>          :avatar_url=>
# >>           "/assets/human/0013_fallback_avatar_icon-7ccc24e76f53875ea71137f6079ae8ad0657b15e80aeed6852501da430e757df.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>200,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>4,
# >>          :name=>"ありえないほど弱いCPU",
# >>          :show_path=>"/colosseum/users/4",
# >>          :avatar_url=>
# >>           "/assets/robot/0100_robot-66c73ea6ee9d1d87bad3f3b22739b74cbe9bdba17b06e9f65a8f7f63b6fb2467.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}}]},
# >>    {:id=>20,
# >>     :name=>"#20",
# >>     :show_path=>"/colosseum/battles/20",
# >>     :win_location_key=>nil,
# >>     :begin_at=>nil,
# >>     :end_at=>nil,
# >>     :xstate_info=>
# >>      #<Colosseum::XstateInfo:0x00007fd43ce55ef8
# >>       @attributes=
# >>        {:key=>:st_before, :name=>"開始前", :color=>"has-text-success", :code=>0}>,
# >>     :turn_max=>0,
# >>     :memberships=>
# >>      [{:id=>77,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>3,
# >>          :name=>"あきれるほど弱いCPU",
# >>          :show_path=>"/colosseum/users/3",
# >>          :avatar_url=>
# >>           "/assets/robot/0120_robot-da4aa855dd2b8d97caf50f6c9a2155fc19e8fea5252c86a38f23c864a743f2b1.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>78,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>4,
# >>          :name=>"ありえないほど弱いCPU",
# >>          :show_path=>"/colosseum/users/4",
# >>          :avatar_url=>
# >>           "/assets/robot/0100_robot-66c73ea6ee9d1d87bad3f3b22739b74cbe9bdba17b06e9f65a8f7f63b6fb2467.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>79,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"運営",
# >>          :show_path=>"/colosseum/users/1",
# >>          :avatar_url=>
# >>           "/assets/human/0013_fallback_avatar_icon-7ccc24e76f53875ea71137f6079ae8ad0657b15e80aeed6852501da430e757df.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>80,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>9,
# >>          :name=>"3分考えるCPU",
# >>          :show_path=>"/colosseum/users/9",
# >>          :avatar_url=>
# >>           "/assets/robot/0120_robot-da4aa855dd2b8d97caf50f6c9a2155fc19e8fea5252c86a38f23c864a743f2b1.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}}]},
# >>    {:id=>15,
# >>     :name=>"#15",
# >>     :show_path=>"/colosseum/battles/15",
# >>     :win_location_key=>nil,
# >>     :begin_at=>Fri, 03 Aug 2018 21:43:16 JST +09:00,
# >>     :end_at=>Fri, 03 Aug 2018 21:43:16 JST +09:00,
# >>     :xstate_info=>
# >>      #<Colosseum::XstateInfo:0x00007fd43ce55bd8
# >>       @attributes={:key=>:st_done, :name=>"終局", :color=>"", :code=>2}>,
# >>     :turn_max=>0,
# >>     :memberships=>
# >>      [{:id=>57,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>2,
# >>          :name=>"ルール覚えたてのCPU",
# >>          :show_path=>"/colosseum/users/2",
# >>          :avatar_url=>
# >>           "/assets/robot/0110_robot-e704feafb4d5b9c5bdc19e6e70d310f7bccafa00f22cdb9e32f7c8cdc321b71a.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>58,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>12,
# >>          :name=>"名無しの棋士3号",
# >>          :show_path=>"/colosseum/users/12",
# >>          :avatar_url=>
# >>           "/assets/human/0021_fallback_avatar_icon-35f7d2753708660f1028e234d7214edb783933bb8b41335c3cf9c1ba3bc171f2.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>59,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"運営",
# >>          :show_path=>"/colosseum/users/1",
# >>          :avatar_url=>
# >>           "/assets/human/0013_fallback_avatar_icon-7ccc24e76f53875ea71137f6079ae8ad0657b15e80aeed6852501da430e757df.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>60,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>5,
# >>          :name=>"めちゃくちゃ弱いCPU",
# >>          :show_path=>"/colosseum/users/5",
# >>          :avatar_url=>
# >>           "/assets/robot/0150_robot-619f7c7c4831fffd861716e3c76fe47c8605b2a036522a89d2635078b20bc213.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}}]},
# >>    {:id=>18,
# >>     :name=>"#18",
# >>     :show_path=>"/colosseum/battles/18",
# >>     :win_location_key=>nil,
# >>     :begin_at=>nil,
# >>     :end_at=>nil,
# >>     :xstate_info=>
# >>      #<Colosseum::XstateInfo:0x00007fd43ce55ef8
# >>       @attributes=
# >>        {:key=>:st_before, :name=>"開始前", :color=>"has-text-success", :code=>0}>,
# >>     :turn_max=>0,
# >>     :memberships=>
# >>      [{:id=>69,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>11,
# >>          :name=>"名無しの棋士2号",
# >>          :show_path=>"/colosseum/users/11",
# >>          :avatar_url=>
# >>           "/assets/human/0029_fallback_avatar_icon-b0ed0ceabf44431543557975f9b1653d14e2cf93e0ace0d981301c8adebcc57f.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>70,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>8,
# >>          :name=>"最大1分考えるCPU",
# >>          :show_path=>"/colosseum/users/8",
# >>          :avatar_url=>
# >>           "/assets/robot/0110_robot-e704feafb4d5b9c5bdc19e6e70d310f7bccafa00f22cdb9e32f7c8cdc321b71a.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>71,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"運営",
# >>          :show_path=>"/colosseum/users/1",
# >>          :avatar_url=>
# >>           "/assets/human/0013_fallback_avatar_icon-7ccc24e76f53875ea71137f6079ae8ad0657b15e80aeed6852501da430e757df.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>72,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>5,
# >>          :name=>"めちゃくちゃ弱いCPU",
# >>          :show_path=>"/colosseum/users/5",
# >>          :avatar_url=>
# >>           "/assets/robot/0150_robot-619f7c7c4831fffd861716e3c76fe47c8605b2a036522a89d2635078b20bc213.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}}]},
# >>    {:id=>40,
# >>     :name=>"#40",
# >>     :show_path=>"/colosseum/battles/40",
# >>     :win_location_key=>nil,
# >>     :begin_at=>nil,
# >>     :end_at=>nil,
# >>     :xstate_info=>
# >>      #<Colosseum::XstateInfo:0x00007fd43ce55ef8
# >>       @attributes=
# >>        {:key=>:st_before, :name=>"開始前", :color=>"has-text-success", :code=>0}>,
# >>     :turn_max=>0,
# >>     :memberships=>
# >>      [{:id=>157,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>7,
# >>          :name=>"弱いCPU",
# >>          :show_path=>"/colosseum/users/7",
# >>          :avatar_url=>
# >>           "/assets/robot/0140_robot-31e558f84b967f63efd70bcfd54af2398ab701b0102470e503d349192dbb35da.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>158,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>3,
# >>          :name=>"あきれるほど弱いCPU",
# >>          :show_path=>"/colosseum/users/3",
# >>          :avatar_url=>
# >>           "/assets/robot/0120_robot-da4aa855dd2b8d97caf50f6c9a2155fc19e8fea5252c86a38f23c864a743f2b1.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>159,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>12,
# >>          :name=>"名無しの棋士3号",
# >>          :show_path=>"/colosseum/users/12",
# >>          :avatar_url=>
# >>           "/assets/human/0021_fallback_avatar_icon-35f7d2753708660f1028e234d7214edb783933bb8b41335c3cf9c1ba3bc171f2.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>160,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"運営",
# >>          :show_path=>"/colosseum/users/1",
# >>          :avatar_url=>
# >>           "/assets/human/0013_fallback_avatar_icon-7ccc24e76f53875ea71137f6079ae8ad0657b15e80aeed6852501da430e757df.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}}]},
# >>    {:id=>31,
# >>     :name=>"#31",
# >>     :show_path=>"/colosseum/battles/31",
# >>     :win_location_key=>nil,
# >>     :begin_at=>Fri, 03 Aug 2018 21:43:19 JST +09:00,
# >>     :end_at=>nil,
# >>     :xstate_info=>
# >>      #<Colosseum::XstateInfo:0x00007fd43ce55d68
# >>       @attributes=
# >>        {:key=>:st_battle_now,
# >>         :name=>"対局中",
# >>         :color=>"has-text-danger",
# >>         :code=>1}>,
# >>     :turn_max=>0,
# >>     :memberships=>
# >>      [{:id=>121,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>10,
# >>          :name=>"30分考えるCPU",
# >>          :show_path=>"/colosseum/users/10",
# >>          :avatar_url=>
# >>           "/assets/robot/0100_robot-66c73ea6ee9d1d87bad3f3b22739b74cbe9bdba17b06e9f65a8f7f63b6fb2467.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>122,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>6,
# >>          :name=>"かなり弱いCPU",
# >>          :show_path=>"/colosseum/users/6",
# >>          :avatar_url=>
# >>           "/assets/robot/0130_robot-fd50cb547420b0fd51a8f0c0e2c101d0ea25c5b93e47f66a3dd5e71c5ba51b62.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>123,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>12,
# >>          :name=>"名無しの棋士3号",
# >>          :show_path=>"/colosseum/users/12",
# >>          :avatar_url=>
# >>           "/assets/human/0021_fallback_avatar_icon-35f7d2753708660f1028e234d7214edb783933bb8b41335c3cf9c1ba3bc171f2.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>124,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"運営",
# >>          :show_path=>"/colosseum/users/1",
# >>          :avatar_url=>
# >>           "/assets/human/0013_fallback_avatar_icon-7ccc24e76f53875ea71137f6079ae8ad0657b15e80aeed6852501da430e757df.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}}]},
# >>    {:id=>35,
# >>     :name=>"#35",
# >>     :show_path=>"/colosseum/battles/35",
# >>     :win_location_key=>nil,
# >>     :begin_at=>Fri, 03 Aug 2018 21:43:19 JST +09:00,
# >>     :end_at=>Fri, 03 Aug 2018 21:43:19 JST +09:00,
# >>     :xstate_info=>
# >>      #<Colosseum::XstateInfo:0x00007fd43ce55bd8
# >>       @attributes={:key=>:st_done, :name=>"終局", :color=>"", :code=>2}>,
# >>     :turn_max=>0,
# >>     :memberships=>
# >>      [{:id=>137,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>10,
# >>          :name=>"30分考えるCPU",
# >>          :show_path=>"/colosseum/users/10",
# >>          :avatar_url=>
# >>           "/assets/robot/0100_robot-66c73ea6ee9d1d87bad3f3b22739b74cbe9bdba17b06e9f65a8f7f63b6fb2467.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>138,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>9,
# >>          :name=>"3分考えるCPU",
# >>          :show_path=>"/colosseum/users/9",
# >>          :avatar_url=>
# >>           "/assets/robot/0120_robot-da4aa855dd2b8d97caf50f6c9a2155fc19e8fea5252c86a38f23c864a743f2b1.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>139,
# >>        :location_key=>"black",
# >>        :user=>
# >>         {:id=>6,
# >>          :name=>"かなり弱いCPU",
# >>          :show_path=>"/colosseum/users/6",
# >>          :avatar_url=>
# >>           "/assets/robot/0130_robot-fd50cb547420b0fd51a8f0c0e2c101d0ea25c5b93e47f66a3dd5e71c5ba51b62.png",
# >>          :race_key=>"robot",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}},
# >>       {:id=>140,
# >>        :location_key=>"white",
# >>        :user=>
# >>         {:id=>1,
# >>          :name=>"運営",
# >>          :show_path=>"/colosseum/users/1",
# >>          :avatar_url=>
# >>           "/assets/human/0013_fallback_avatar_icon-7ccc24e76f53875ea71137f6079ae8ad0657b15e80aeed6852501da430e757df.png",
# >>          :race_key=>"human",
# >>          :win_count=>0,
# >>          :lose_count=>0,
# >>          :win_ratio=>0.0}}]}]}

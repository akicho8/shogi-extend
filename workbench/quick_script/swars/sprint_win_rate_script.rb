require "./setup"
scope = Swars::Membership.where(id: ::Swars::Membership.last(1000).collect(&:id))
object = QuickScript::Swars::SprintWinRateScript.new({}, {scope: scope})
object.cache_write
tp object.rows
# >> 2025-05-15T11:19:34.535Z pid=63857 tid=1bix INFO: Sidekiq 7.3.9 connecting to Redis with options {size: 10, pool_name: "internal", url: "redis://localhost:6379/4"}
# >> |------+-----------+-----------+--------+--------+------|
# >> | 棋力 | ▲勝率    | △勝率    | ▲勝数 | △勝数 | 分母 |
# >> |------+-----------+-----------+--------+--------+------|
# >> | 九段 |           |           |      0 |      0 |    0 |
# >> | 八段 |           |           |      0 |      0 |    0 |
# >> | 七段 |           |           |      0 |      0 |    0 |
# >> | 六段 | 0.000 %   | 100.000 % |      0 |      6 |    6 |
# >> | 五段 | 66.667 %  | 33.333 %  |      2 |      1 |    3 |
# >> | 四段 | 0.000 %   | 100.000 % |      0 |      2 |    2 |
# >> | 三段 | 30.000 %  | 70.000 %  |      3 |      7 |   10 |
# >> | 二段 | 100.000 % | 0.000 %   |      4 |      0 |    4 |
# >> | 初段 | 46.667 %  | 53.333 %  |      7 |      8 |   15 |
# >> | 1級  | 75.000 %  | 25.000 %  |      3 |      1 |    4 |
# >> | 2級  | 43.750 %  | 56.250 %  |      7 |      9 |   16 |
# >> | 3級  | 50.000 %  | 50.000 %  |      3 |      3 |    6 |
# >> | 4級  | 25.000 %  | 75.000 %  |      1 |      3 |    4 |
# >> | 5級  | 50.000 %  | 50.000 %  |      1 |      1 |    2 |
# >> | 6級  |           |           |      0 |      0 |    0 |
# >> | 7級  |           |           |      0 |      0 |    0 |
# >> | 8級  |           |           |      0 |      0 |    0 |
# >> | 9級  |           |           |      0 |      0 |    0 |
# >> | 10級 |           |           |      0 |      0 |    0 |
# >> |------+-----------+-----------+--------+--------+------|

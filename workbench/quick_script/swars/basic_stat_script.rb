require "./setup"
scope = Swars::Membership.where(id: ::Swars::Membership.last(1000).collect(&:id))
object = QuickScript::Swars::BasicStatScript.new(scope: scope)
object.cache_write
tp object.sprintha_gotegatuyoi_noka.call
tp object.grade_each_sprint_win_rate.call
# >> 2025-04-23T16:03:05.795Z pid=94776 tid=230w INFO: Sidekiq 7.3.9 connecting to Redis with options {size: 10, pool_name: "internal", url: "redis://localhost:6379/4"}
# >> |-----------------+----------+----------+--------+--------+------|
# >> | 種類            | ▲勝率   | △勝率   | ▲勝数 | △勝数 | 分母 |
# >> |-----------------+----------+----------+--------+--------+------|
# >> | 通常 野良 10分  | 50.973 % | 49.027 % |    131 |    126 |  257 |
# >> | 通常 野良 3分   | 58.586 % | 41.414 % |     58 |     41 |   99 |
# >> | 通常 野良 10秒  | 51.163 % | 48.837 % |     22 |     21 |   43 |
# >> | ｽﾌﾟﾘﾝﾄ 野良 3分 | 47.619 % | 52.381 % |     40 |     44 |   84 |
# >> |-----------------+----------+----------+--------+--------+------|
# >> |------+-----------+-----------+--------+--------+------|
# >> | 棋力 | ▲勝率    | △勝率    | ▲勝数 | △勝数 | 分母 |
# >> |------+-----------+-----------+--------+--------+------|
# >> | 九段 |           |           |      0 |      0 |    0 |
# >> | 八段 |           |           |      0 |      0 |    0 |
# >> | 七段 | 50.000 %  | 50.000 %  |      1 |      1 |    2 |
# >> | 六段 | 100.000 % | 0.000 %   |      2 |      0 |    2 |
# >> | 五段 | 0.000 %   | 100.000 % |      0 |      2 |    2 |
# >> | 四段 | 0.000 %   | 100.000 % |      0 |      2 |    2 |
# >> | 三段 | 50.000 %  | 50.000 %  |      1 |      1 |    2 |
# >> | 二段 | 50.000 %  | 50.000 %  |      2 |      2 |    4 |
# >> | 初段 | 33.333 %  | 66.667 %  |      1 |      2 |    3 |
# >> | 1級  | 55.556 %  | 44.444 %  |     10 |      8 |   18 |
# >> | 2級  | 50.000 %  | 50.000 %  |      1 |      1 |    2 |
# >> | 3級  | 40.000 %  | 60.000 %  |      6 |      9 |   15 |
# >> | 4級  | 50.000 %  | 50.000 %  |      3 |      3 |    6 |
# >> | 5級  | 100.000 % | 0.000 %   |      3 |      0 |    3 |
# >> | 6級  | 100.000 % | 0.000 %   |      3 |      0 |    3 |
# >> | 7級  | 33.333 %  | 66.667 %  |      1 |      2 |    3 |
# >> | 8級  | 0.000 %   | 100.000 % |      0 |      2 |    2 |
# >> | 9級  | 0.000 %   | 100.000 % |      0 |      1 |    1 |
# >> | 10級 | 50.000 %  | 50.000 %  |      1 |      1 |    2 |
# >> |------+-----------+-----------+--------+--------+------|

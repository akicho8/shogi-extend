require "../setup"
tp Swars::User["SugarHuuko"].user_stat.medal_stat.to_debug_hash
_ { Swars::User["SugarHuuko"].user_stat.medal_stat.to_a } # => "76.81 ms"
s { Swars::User["SugarHuuko"].user_stat.medal_stat.to_a } # => [{:message=>"å±…é£›è»Šå…š", :method=>"raw", :name=>"â¬†ï¸", :type=>nil}, {:message=>"å³çŽ‰ã§å‹ã£ãŸ", :method=>"raw", :name=>"ðŸŒ›", :type=>nil}, {:message=>"UFOéŠ€ã§å‹ã£ãŸ", :method=>"raw", :name=>"ðŸ›¸", :type=>nil}, {:message=>"å¤§é§’å…¨éƒ¨æ¨ã¦ã¦å‹ã£ãŸ", :method=>"raw", :name=>"ðŸ§ ", :type=>nil}, {:message=>"10é€£å‹ã—ãŸ", :method=>"raw", :name=>"ðŸ’®", :type=>nil}, {:message=>"å±…çŽ‰ã§å‹ã£ãŸ", :method=>"raw", :name=>"ðŸ—¿", :type=>nil}, {:message=>"å¯¾å±€æ”¾æ£„ã¨å—ã‘å–ã‚‰ã‚Œã‹ã­ãªã„é•·è€ƒã‚’ã—ãŸ", :method=>"raw", :name=>"ðŸš«", :type=>nil}, {:message=>"é–‹å¹•åƒæ—¥æ‰‹ã‚’ã—ãŸ", :method=>"raw", :name=>"â“", :type=>nil}, {:message=>"åƒæ—¥æ‰‹ãŒã‚ã£ãŸ", :method=>"raw", :name=>"ðŸŒ", :type=>nil}]

Swars::User["SugarHuuko"].user_stat.win_tag.to_h # => {:åŠ›æˆ¦=>13, :å±…é£›è»Š=>39, :ç®±å…¥ã‚Šå¨˜=>1, :éŠ€é›²é›€=>1, :èˆŸå›²ã„=>6, :å±…é£›è»Šé‡‘ç¾Žæ¿ƒ=>2, :å¯¾æŒ¯ã‚ŠæŒä¹…æˆ¦=>1, :æ–°åž‹é›æœ¨=>5, :ç›¸æŽ›ã‹ã‚Š=>1, :â–²ï¼”äº”æ­©æ—©ä»•æŽ›ã‘=>2, :å±…çŽ‰=>9, :â–³ï¼“ä¸‰è§’åž‹ç©ºä¸­æˆ¦æ³•=>1, :ã‚ªãƒ¼ãƒ«ãƒ‰é›æœ¨=>1, :åŽŸå§‹æ£’éŠ€=>5, :UFOéŠ€=>5, :è§’äº¤æ›åž‹=>3, :è§’æ›ã‚ã‚Š=>1, :å³çŽ‰=>2, :æ‰‹å¾—è§’äº¤æ›åž‹=>1, :åœ°ä¸‹é‰„é£›è»Š=>1, :ä¸‰æ®µå³çŽ‰=>1, :åž‚ã‚Œæ­©=>11, :å¯¾æŒ¯ã‚Š=>13, :å¯¾æŠ—å½¢=>13, :æŒä¹…æˆ¦=>18, :çŸ­æ‰‹æ•°=>17, :æ€¥æˆ¦=>18, :é•·æ‰‹æ•°=>21, :å¤§é§’ã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆ=>7, :ç›¸å±…é£›è»Š=>26, :ç¶™ãŽæ¡‚=>2, :è…¹éŠ€=>1, :ãµã‚“ã©ã—ã®æ¡‚=>4, :ç›¸å±…çŽ‰=>5, :æ¡‚é ­ã®éŠ€=>1, :å¤§é§’å…¨ãƒ–ãƒƒãƒ=>1, :èƒŒæ°´ã®é™£=>1}

# >> |---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
# >> |                  å¯¾è±¡ã‚µãƒ³ãƒ—ãƒ«æ•° | 50                                                                                                                                                                                                                                                                                                                                                                           |
# >> |                          å‹ã¡æ•° | 39                                                                                                                                                                                                                                                                                                                                                                           |
# >> |                          è² ã‘æ•° | 8                                                                                                                                                                                                                                                                                                                                                                            |
# >> |                            å‹çŽ‡ | 0.78                                                                                                                                                                                                                                                                                                                                                                         |
# >> |                    å¼•ãåˆ†ã‘å›žæ•° | 1                                                                                                                                                                                                                                                                                                                                                                            |
# >> |         åˆ‡ã‚Œè² ã‘çŽ‡(åˆ†æ¯:è² ã‘æ•°) | 0.125                                                                                                                                                                                                                                                                                                                                                                        |
# >> |             åˆ‡æ–­çŽ‡(åˆ†æ¯:è² ã‘æ•°) |                                                                                                                                                                                                                                                                                                                                                                              |
# >> |                        å±…é£›è»ŠçŽ‡ | 1.0                                                                                                                                                                                                                                                                                                                                                                          |
# >> |                      æŒ¯ã‚Šé£›è»ŠçŽ‡ | 0.0                                                                                                                                                                                                                                                                                                                                                                          |
# >> |                        å±…çŽ‰å‹çŽ‡ | 0.18                                                                                                                                                                                                                                                                                                                                                                         |
# >> |                    ã‚¢ãƒ’ãƒ«å›²ã„çŽ‡ | 0.0                                                                                                                                                                                                                                                                                                                                                                          |
# >> |                        å¬‰é‡ŽæµçŽ‡ | 0.0                                                                                                                                                                                                                                                                                                                                                                          |
# >> |                            æ£‹é¢¨ | {:rarity_key_SSR=>0.14, :rarity_key_SR=>0.28, :rarity_key_R=>0.16, :rarity_key_N=>0.42}                                                                                                                                                                                                                                                                                      |
# >> | 1æ‰‹è©°ã‚’è©°ã¾ã•ãªã„ã§ã˜ã‚‰ã—ãŸå‰²åˆ | 0.0                                                                                                                                                                                                                                                                                                                                                                          |
# >> |                çµ¶å¯¾æŠ•äº†ã—ãªã„çŽ‡ | 0.0                                                                                                                                                                                                                                                                                                                                                                          |
# >> |              å¤§é•·è€ƒã¾ãŸã¯æ”¾ç½®çŽ‡ | 0.02                                                                                                                                                                                                                                                                                                                                                                         |
# >> |              æ£‹ç¥žé™è‡¨ç–‘æƒ‘å¯¾å±€æ•° | 0                                                                                                                                                                                                                                                                                                                                                                            |
# >> |                é•·è€ƒã¾ãŸã¯æ”¾ç½®çŽ‡ | 0.02                                                                                                                                                                                                                                                                                                                                                                         |
# >> |                    æœ€å¤§é€£å‹é€£æ•— | {:lose=>2, :win=>12, :draw=>1}                                                                                                                                                                                                                                                                                                                                               |
# >> |                      ã‚¿ã‚°ã®é‡ã¿ | {:åŠ›æˆ¦=>17, :å±…é£›è»Š=>50, :ã‚«ãƒ–ãƒˆå›²ã„=>1, :ç®±å…¥ã‚Šå¨˜=>1, :éŠ€é›²é›€=>1, :èˆŸå›²ã„=>9, :å±…é£›è»Šé‡‘ç¾Žæ¿ƒ=>2, :å¯¾æŒ¯ã‚ŠæŒä¹…æˆ¦=>1, :æ–°åž‹é›æœ¨=>6, :ç›¸æŽ›ã‹ã‚Š=>1, :â–²ï¼”äº”æ­©æ—©ä»•æŽ›ã‘=>2, :å±…çŽ‰=>11, :â–³ï¼“ä¸‰è§’åž‹ç©ºä¸­æˆ¦æ³•=>1, :ãƒ„ãƒŽéŠ€é›æœ¨=>1, :ã‚ªãƒ¼ãƒ«ãƒ‰é›æœ¨=>1, :åŽŸå§‹æ£’éŠ€=>5, :UFOéŠ€=>5, :ã¸ã“ã¿çŸ¢å€‰=>1, :ä¸²ã‚«ãƒ„å›²ã„=>1, :é‡‘ç›¾å›²ã„=>1, :è§’äº¤æ›åž‹=>3, :è§’æ›ã‚ã‚Š=>1, :å³çŽ‰=>3, :æ‰‹å¾—è§’äº¤æ›åž‹=>1, ... |
# >> |---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
# >>   Swars::User Load (0.2ms)  SELECT `swars_users`.* FROM `swars_users` WHERE `swars_users`.`user_key` = 'SugarHuuko' LIMIT 1
# >>   â†³ app/models/swars/user.rb:5:in `[]'
# >>   Swars::Membership Ids (19.7ms)  SELECT `swars_memberships`.`id` FROM `swars_memberships` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` WHERE `swars_memberships`.`user_id` = 17413 ORDER BY `swars_battles`.`battled_at` DESC LIMIT 50
# >>   â†³ app/models/swars/user_stat/base_scope_methods.rb:35:in `scope_ids'
# >>   Swars::Membership Count (0.4ms)  SELECT COUNT(*) FROM `swars_memberships` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490)
# >>   â†³ app/models/swars/user_stat/base_scope_methods.rb:45:in `ids_count'
# >>   Swars::Membership Pluck (0.6ms)  SELECT `swars_memberships`.`id` FROM `swars_memberships` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) AND `judges`.`key` = 'win'
# >>   â†³ app/models/swars/user_stat/tag_stat.rb:63:in `block in to_h'
# >>   ActsAsTaggableOn::Tag Load (1.5ms)  SELECT tags.*, taggings.tags_count AS count FROM `tags` JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM `taggings` WHERE (taggings.taggable_type = 'Swars::Membership') AND (taggings.taggable_id IN ('97904485','97904490','97904863','97909143','97909144','98191817','98196869','98196872','98196874','98196876','98196878','98196881','98196899','98196901','98196903','98196909','98196911','98196913','98196915','98208928','98212769','98212771','98212774','98212775','98212778','98263994','98263995','98263998','98264000','98264001','98264003','98264007','98271896','98271900','98271905','98271907','98271911','98271913','98303204')) GROUP BY `taggings`.`tag_id` HAVING (COUNT(taggings.tag_id) > 0)) AS taggings ON taggings.tag_id = tags.id
# >>   â†³ app/models/swars/user_stat/tag_stat.rb:64:in `each_with_object'
# >>   Swars::Membership Pluck (0.4ms)  SELECT `swars_memberships`.`id` FROM `swars_memberships` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490)
# >>   â†³ app/models/swars/user_stat/tag_stat.rb:63:in `block in to_h'
# >>   ActsAsTaggableOn::Tag Load (1.6ms)  SELECT tags.*, taggings.tags_count AS count FROM `tags` JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM `taggings` WHERE (taggings.taggable_type = 'Swars::Membership') AND (taggings.taggable_id IN ('97904485','97904487','97904490','97904863','97909143','97909144','98191817','98196869','98196871','98196872','98196874','98196876','98196878','98196881','98196885','98196899','98196901','98196903','98196909','98196911','98196913','98196915','98208928','98212763','98212766','98212768','98212769','98212771','98212774','98212775','98212778','98263994','98263995','98263998','98264000','98264001','98264003','98264005','98264007','98271894','98271896','98271899','98271900','98271902','98271905','98271907','98271909','98271911','98271913','98303204')) GROUP BY `taggings`.`tag_id` HAVING (COUNT(taggings.tag_id) > 0)) AS taggings ON taggings.tag_id = tags.id
# >>   â†³ app/models/swars/user_stat/tag_stat.rb:64:in `each_with_object'
# >>   Swars::Membership Pluck (0.4ms)  SELECT `judges`.`key` FROM `swars_memberships` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) ORDER BY FIELD(swars_memberships.id, '98271894','98271896','98271899','98271900','98271902','98271905','98271907','98271909','98271911','98271913','98303204','98212763','98212766','98212768','98212769','98212771','98212774','98208928','98212775','98212778','98263994','98263995','98263998','98264000','98264001','98264003','98264005','98264007','98196869','98196871','98196872','98196874','98196876','98196878','98196881','98196885','98196899','98196901','98196903','98196909','98196911','98196913','98196915','98191817','97909143','97909144','97904863','97904485','97904487','97904490')
# >>   â†³ app/models/application_record.rb:69:in `block in custom_belongs_to'
# >>   Swars::Membership Count (0.5ms)  SELECT COUNT(*) FROM `swars_memberships` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) AND `judges`.`key` = 'win'
# >>   â†³ app/models/swars/user_stat/sub_scope_methods.rb:23:in `win_count'
# >>   Swars::Membership Count (0.8ms)  SELECT COUNT(*) FROM `swars_memberships` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) AND `judges`.`key` = 'win' AND `swars_battles`.`turn_max` = 100
# >>   â†³ app/models/swars/user_stat/main.rb:351:in `block in one_hundred_win_rate'
# >>   Swars::Membership Count (0.5ms)  SELECT COUNT(*) FROM `swars_memberships` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) AND `judges`.`key` = 'lose'
# >>   â†³ app/models/swars/user_stat/sub_scope_methods.rb:33:in `lose_count'
# >>   Judge Load (0.2ms)  SELECT `judges`.* FROM `judges` WHERE `judges`.`key` = 'lose' ORDER BY `judges`.`position` ASC LIMIT 1
# >>   â†³ app/models/application_memory_record.rb:22:in `db_record!'
# >>   Swars::Final Load (0.2ms)  SELECT `swars_finals`.* FROM `swars_finals` WHERE `swars_finals`.`key` = 'TIMEOUT' ORDER BY `swars_finals`.`position` ASC LIMIT 1
# >>   â†³ app/models/application_memory_record.rb:22:in `db_record!'
# >>   Swars::Membership Count (0.4ms)  SELECT COUNT(*) AS `count_all`, `judges`.`key` AS `judges_key`, `swars_finals`.`key` AS `swars_finals_key` FROM `swars_memberships` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` INNER JOIN `swars_finals` ON `swars_finals`.`id` = `swars_battles`.`final_id` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) GROUP BY `judges`.`key`, `swars_finals`.`key`
# >>   â†³ app/models/swars/user_stat/judge_final_stat.rb:55:in `block in counts_hash'
# >>   Judge Load (0.2ms)  SELECT `judges`.* FROM `judges` WHERE `judges`.`key` = 'lose' ORDER BY `judges`.`position` ASC LIMIT 1
# >>   â†³ app/models/application_memory_record.rb:22:in `db_record!'
# >>   Swars::Final Load (0.2ms)  SELECT `swars_finals`.* FROM `swars_finals` WHERE `swars_finals`.`key` = 'DISCONNECT' ORDER BY `swars_finals`.`position` ASC LIMIT 1
# >>   â†³ app/models/application_memory_record.rb:22:in `db_record!'
# >>   Swars::Membership Pluck (0.4ms)  SELECT `swars_memberships`.`id` FROM `swars_memberships` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490)
# >>   â†³ app/models/swars/user_stat/rarity_stat.rb:73:in `block in tags'
# >>   ActsAsTaggableOn::Tag Load (1.3ms)  SELECT tags.*, taggings.tags_count AS count FROM `tags` JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM `taggings` WHERE (taggings.taggable_type = 'Swars::Membership' AND taggings.context = 'attack_tags') AND (taggings.taggable_id IN ('97904485','97904487','97904490','97904863','97909143','97909144','98191817','98196869','98196871','98196872','98196874','98196876','98196878','98196881','98196885','98196899','98196901','98196903','98196909','98196911','98196913','98196915','98208928','98212763','98212766','98212768','98212769','98212771','98212774','98212775','98212778','98263994','98263995','98263998','98264000','98264001','98264003','98264005','98264007','98271894','98271896','98271899','98271900','98271902','98271905','98271907','98271909','98271911','98271913','98303204')) GROUP BY `taggings`.`tag_id` HAVING (COUNT(taggings.tag_id) > 0)) AS taggings ON taggings.tag_id = tags.id
# >>   â†³ app/models/swars/user_stat/rarity_stat.rb:72:in `each'
# >>   Swars::Membership Pluck (0.4ms)  SELECT `swars_memberships`.`id` FROM `swars_memberships` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490)
# >>   â†³ app/models/swars/user_stat/rarity_stat.rb:73:in `block in tags'
# >>   ActsAsTaggableOn::Tag Load (1.3ms)  SELECT tags.*, taggings.tags_count AS count FROM `tags` JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM `taggings` WHERE (taggings.taggable_type = 'Swars::Membership' AND taggings.context = 'defense_tags') AND (taggings.taggable_id IN ('97904485','97904487','97904490','97904863','97909143','97909144','98191817','98196869','98196871','98196872','98196874','98196876','98196878','98196881','98196885','98196899','98196901','98196903','98196909','98196911','98196913','98196915','98208928','98212763','98212766','98212768','98212769','98212771','98212774','98212775','98212778','98263994','98263995','98263998','98264000','98264001','98264003','98264005','98264007','98271894','98271896','98271899','98271900','98271902','98271905','98271907','98271909','98271911','98271913','98303204')) GROUP BY `taggings`.`tag_id` HAVING (COUNT(taggings.tag_id) > 0)) AS taggings ON taggings.tag_id = tags.id
# >>   â†³ app/models/swars/user_stat/rarity_stat.rb:72:in `each'
# >>   Swars::Membership Count (0.8ms)  SELECT COUNT(*) FROM `swars_memberships` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` INNER JOIN `swars_rules` ON `swars_rules`.`id` = `swars_battles`.`rule_id` INNER JOIN `swars_finals` ON `swars_finals`.`id` = `swars_battles`.`final_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) AND `judges`.`key` = 'win' AND `swars_memberships`.`think_last` >= 60 AND `swars_rules`.`key` = 'ten_min' AND `swars_finals`.`key` = 'CHECKMATE'
# >>   â†³ app/models/swars/user_stat/main.rb:257:in `teasing_count_for'
# >>   Swars::Membership Count (0.8ms)  SELECT COUNT(*) FROM `swars_memberships` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` INNER JOIN `swars_rules` ON `swars_rules`.`id` = `swars_battles`.`rule_id` INNER JOIN `swars_finals` ON `swars_finals`.`id` = `swars_battles`.`final_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) AND `judges`.`key` = 'win' AND `swars_memberships`.`think_last` >= 45 AND `swars_rules`.`key` = 'three_min' AND `swars_finals`.`key` = 'CHECKMATE'
# >>   â†³ app/models/swars/user_stat/main.rb:257:in `teasing_count_for'
# >>   Swars::Membership Count (0.8ms)  SELECT COUNT(*) FROM `swars_memberships` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` INNER JOIN `swars_rules` ON `swars_rules`.`id` = `swars_battles`.`rule_id` INNER JOIN `swars_finals` ON `swars_finals`.`id` = `swars_battles`.`final_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) AND `judges`.`key` = 'lose' AND `swars_memberships`.`think_last` >= 180 AND `swars_rules`.`key` = 'ten_min' AND `swars_finals`.`key` = 'TIMEOUT' AND `swars_battles`.`turn_max` >= 14
# >>   â†³ app/models/swars/user_stat/main.rb:278:in `zettai_toryo_sinai_count_for'
# >>   Swars::Membership Count (0.8ms)  SELECT COUNT(*) FROM `swars_memberships` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` INNER JOIN `swars_rules` ON `swars_rules`.`id` = `swars_battles`.`rule_id` INNER JOIN `swars_finals` ON `swars_finals`.`id` = `swars_battles`.`final_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) AND `judges`.`key` = 'lose' AND `swars_memberships`.`think_last` >= 60 AND `swars_rules`.`key` = 'three_min' AND `swars_finals`.`key` = 'TIMEOUT' AND `swars_battles`.`turn_max` >= 14
# >>   â†³ app/models/swars/user_stat/main.rb:278:in `zettai_toryo_sinai_count_for'
# >>   Swars::Membership Count (0.8ms)  SELECT COUNT(*) FROM `swars_memberships` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` INNER JOIN `swars_rules` ON `swars_rules`.`id` = `swars_battles`.`rule_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) AND `judges`.`key` = 'lose' AND `swars_memberships`.`think_last` IS NOT NULL AND `swars_memberships`.`think_max` != `swars_memberships`.`think_last` AND `swars_memberships`.`think_max` >= 300 AND `swars_rules`.`key` = 'ten_min' AND `swars_battles`.`turn_max` >= 14
# >>   â†³ app/models/swars/user_stat/main.rb:300:in `taisekimachi_count_for'
# >>   Swars::Membership Count (0.8ms)  SELECT COUNT(*) FROM `swars_memberships` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` INNER JOIN `swars_rules` ON `swars_rules`.`id` = `swars_battles`.`rule_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) AND `judges`.`key` = 'lose' AND `swars_memberships`.`think_last` IS NOT NULL AND `swars_memberships`.`think_max` != `swars_memberships`.`think_last` AND `swars_memberships`.`think_max` >= 120 AND `swars_rules`.`key` = 'three_min' AND `swars_battles`.`turn_max` >= 14
# >>   â†³ app/models/swars/user_stat/main.rb:300:in `taisekimachi_count_for'
# >>   Swars::Membership Count (0.3ms)  SELECT COUNT(*) FROM `swars_memberships` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` INNER JOIN `swars_rules` ON `swars_rules`.`id` = `swars_battles`.`rule_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) AND `swars_memberships`.`think_max` >= 180 AND `swars_rules`.`key` = 'ten_min'
# >>   â†³ app/models/swars/user_stat/main.rb:320:in `long_think_count_for'
# >>   Swars::Membership Count (0.3ms)  SELECT COUNT(*) FROM `swars_memberships` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` INNER JOIN `swars_rules` ON `swars_rules`.`id` = `swars_battles`.`rule_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) AND `swars_memberships`.`think_max` >= 60 AND `swars_rules`.`key` = 'three_min'
# >>   â†³ app/models/swars/user_stat/main.rb:320:in `long_think_count_for'
# >>   Swars::Membership Count (0.8ms)  SELECT COUNT(*) FROM `swars_memberships` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` INNER JOIN `swars_rules` ON `swars_rules`.`id` = `swars_battles`.`rule_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) AND `judges`.`key` = 'lose' AND `swars_memberships`.`think_max` >= 150 AND `swars_memberships`.`think_max` < 180 AND `swars_rules`.`key` = 'ten_min'
# >>   â†³ app/models/swars/user_stat/main.rb:340:in `short_think_count_for'
# >>   Swars::Membership Count (0.8ms)  SELECT COUNT(*) FROM `swars_memberships` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` INNER JOIN `swars_rules` ON `swars_rules`.`id` = `swars_battles`.`rule_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) AND `judges`.`key` = 'lose' AND `swars_memberships`.`think_max` >= 30 AND `swars_memberships`.`think_max` < 60 AND `swars_rules`.`key` = 'three_min'
# >>   â†³ app/models/swars/user_stat/main.rb:340:in `short_think_count_for'
# >>   Swars::Membership Count (0.8ms)  SELECT COUNT(*) FROM `swars_memberships` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` INNER JOIN `swars_finals` ON `swars_finals`.`id` = `swars_battles`.`final_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) AND `judges`.`key` = 'lose' AND (`swars_finals`.`key` = 'TORYO' OR `swars_finals`.`key` = 'CHECKMATE') AND `swars_battles`.`turn_max` <= 19
# >>   â†³ app/models/swars/user_stat/lethargy_stat.rb:29:in `block in count'
# >>   Swars::Membership Count (0.5ms)  SELECT COUNT(*) FROM `swars_memberships` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) AND `judges`.`key` = 'draw'
# >>   â†³ app/models/swars/user_stat/sub_scope_methods.rb:43:in `draw_count'
# >>   Swars::Membership Count (0.8ms)  SELECT COUNT(*) FROM `swars_memberships` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) AND `judges`.`key` = 'draw' AND `swars_battles`.`turn_max` = 12
# >>   â†³ app/models/swars/user_stat/perpetual_check_stat.rb:18:in `block in opening_repetition_move_count'
# >>   Swars::Membership Count (0.7ms)  SELECT COUNT(*) FROM `swars_memberships` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) AND `judges`.`key` = 'draw' AND `swars_battles`.`turn_max` >= 50
# >>   â†³ app/models/swars/user_stat/perpetual_check_stat.rb:29:in `block in over50_draw_count'
# >>   Swars::Xmode Load (0.2ms)  SELECT `swars_xmodes`.* FROM `swars_xmodes` ORDER BY `swars_xmodes`.`position` ASC
# >>   â†³ app/models/swars/user_stat/xmode_stat.rb:32:in `each_with_object'
# >>   Swars::Membership Count (0.3ms)  SELECT COUNT(*) AS `count_all`, `swars_battles`.`xmode_id` AS `swars_battles_xmode_id` FROM `swars_memberships` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) GROUP BY `swars_battles`.`xmode_id`
# >>   â†³ app/models/swars/user_stat/xmode_stat.rb:27:in `attributes'
# >>   Swars::Membership Count (0.3ms)  SELECT COUNT(*) FROM `swars_memberships` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490) AND (`swars_memberships`.`ai_wave_count` >= 3 OR `swars_memberships`.`ai_drop_total` >= 15 OR `swars_memberships`.`ai_two_freq` >= 0.6 AND `swars_battles`.`turn_max` >= 50 OR `swars_memberships`.`ai_gear_freq` >= 0.22 AND `swars_battles`.`turn_max` >= 50)
# >>   â†³ app/models/swars/user_stat/fraud_stat.rb:13:in `count'

require "./setup"
_ { Swars::User["SugarHuuko"].user_stat.piece_stat.to_chart } # => "212.49 ms"
s { Swars::User["SugarHuuko"].user_stat.piece_stat.to_chart } # => [{:name=>"玉", :value=>0.08155080213903744}, {:name=>"飛", :value=>0.08422459893048129}, {:name=>"角", :value=>0.09180035650623886}, {:name=>"金", :value=>0.10338680926916222}, {:name=>"銀", :value=>0.16310160427807488}, {:name=>"桂", :value=>0.08600713012477719}, {:name=>"香", :value=>0.01693404634581105}, {:name=>"歩", :value=>0.3092691622103387}, {:name=>"龍", :value=>0.027629233511586453}, {:name=>"馬", :value=>0.021836007130124777}, {:name=>"全", :value=>0.0022281639928698753}, {:name=>"圭", :value=>0.0035650623885918}, {:name=>"杏", :value=>0.0035650623885918}, {:name=>"と", :value=>0.004901960784313725}]
# >>   Swars::User Load (0.2ms)  SELECT `swars_users`.* FROM `swars_users` WHERE `swars_users`.`user_key` = 'SugarHuuko' LIMIT 1
# >>   ↳ app/models/swars/user.rb:5:in `[]'
# >>   Swars::Membership Ids (25.5ms)  SELECT `swars_memberships`.`id` FROM `swars_memberships` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` WHERE `swars_memberships`.`user_id` = 17413 ORDER BY `swars_battles`.`battled_at` DESC LIMIT 50
# >>   ↳ app/models/swars/user_stat/base_scope_methods.rb:35:in `scope_ids'
# >>   Swars::Membership Load (0.5ms)  SELECT `swars_memberships`.* FROM `swars_memberships` WHERE `swars_memberships`.`id` IN (98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490)
# >>   ↳ app/models/swars/user_stat/piece_stat.rb:48:in `block in counts_hash'
# >>   Swars::MembershipExtra Load (0.4ms)  SELECT `swars_membership_extras`.* FROM `swars_membership_extras` WHERE `swars_membership_extras`.`membership_id` IN (97904485, 97904487, 97904490, 97904863, 97909143, 97909144, 98191817, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98208928, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204)
# >>   ↳ app/models/swars/user_stat/piece_stat.rb:48:in `block in counts_hash'

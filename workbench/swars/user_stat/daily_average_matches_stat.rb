require "./setup"
_ { Swars::User["SugarHuuko"].user_stat.daily_average_matches_stat.average }        # => "239.06 ms"
_ { Swars::User["SugarHuuko"].user_stat.daily_average_matches_stat.max }            # => 
s { tp Swars::User["SugarHuuko"].user_stat.daily_average_matches_stat.average }     # => 
s { tp Swars::User["SugarHuuko"].user_stat.daily_average_matches_stat.max }         # => 
# ~> /Users/ikeda/src/shogi-extend/app/models/swars/user_stat/daily_average_matches_stat.rb:24:in `block in max': undefined local variable or method `max_and_max' for #<Swars::UserStat::DailyAverageMatchesStat:0x000000010c0f2c58 @user_stat=#<Swars::UserStat::Main:0x000000010c0daf68 @user=#<Swars::User id: 17413, user_key: "SugarHuuko", grade_id: 3, last_reception_at: "2024-06-01 18:47:32.000000000 +0900", search_logs_count: 9562, created_at: "2019-02-12 21:04:46.000000000 +0900", updated_at: "2024-06-01 18:47:32.000000000 +0900", ban_at: nil, latest_battled_at: "2024-05-25 14:58:25.000000000 +0900">, @params={:sample_max=>50}, @daily_average_matches_stat=#<Swars::UserStat::DailyAverageMatchesStat:0x000000010c0f2c58 ...>, @filtered_battle_ids=nil, @sample_max=50, @scope_ids=[98271894, 98271896, 98271899, 98271900, 98271902, 98271905, 98271907, 98271909, 98271911, 98271913, 98303204, 98212763, 98212766, 98212768, 98212769, 98212771, 98212774, 98208928, 98212775, 98212778, 98263994, 98263995, 98263998, 98264000, 98264001, 98264003, 98264005, 98264007, 98196869, 98196871, 98196872, 98196874, 98196876, 98196878, 98196881, 98196885, 98196899, 98196901, 98196903, 98196909, 98196911, 98196913, 98196915, 98191817, 97909143, 97909144, 97904863, 97904485, 97904487, 97904490], @ids_scope=#<ActiveRecord::Relation [#<Swars::Membership id: 97904485, battle_id: 49063892, user_id: 17413, grade_id: 3, position: 0, created_at: "2024-05-15 22:41:14.000000000 +0900", updated_at: "2024-05-25 14:35:00.000000000 +0900", grade_diff: -1, think_max: 4, op_user_id: 164962, think_last: 3, think_all_avg: 1, think_end_avg: 1, ai_drop_total: 0, judge_id: 1, location_id: 1, style_id: nil, ek_score_without_cond: 11, ek_score_with_cond: nil, ai_wave_count: 0, ai_two_freq: 0.0689655, ai_noizy_two_max: 1, ai_gear_freq: nil, defense_tag_list: nil, attack_tag_list: nil, technique_tag_list: nil, note_tag_list: nil, other_tag_list: nil>, #<Swars::Membership id: 97904487, battle_id: 49063893, user_id: 17413, grade_id: 3, position: 0, created_at: "2024-05-15 22:41:15.000000000 +0900", updated_at: "2024-05-25 14:35:01.000000000 +0900", grade_diff: 0, think_max: 27, op_user_id: 473879, think_last: 1, think_all_avg: 3, think_end_avg: 1, ai_drop_total: 0, judge_id: 2, location_id: 1, style_id: 1, ek_score_without_cond: 11, ek_score_with_cond: nil, ai_wave_count: 0, ai_two_freq: 0.16, ai_noizy_two_max: 3, ai_gear_freq: nil, defense_tag_list: nil, attack_tag_list: nil, technique_tag_list: nil, note_tag_list: nil, other_tag_list: nil>, #<Swars::Membership id: 97904490, battle_id: 49063894, user_id: 17413, grade_id: 3, position: 1, created_at: "2024-05-15 22:41:15.000000000 +0900", updated_at: "2024-05-25 14:35:01.000000000 +0900", grade_diff: -2, think_max: 31, op_user_id: 692039, think_last: 2, think_all_avg: 2, think_end_avg: 1, ai_drop_total: 0, judge_id: 1, location_id: 2, style_id: 3, ek_score_without_cond: 13, ek_score_with_cond: nil, ai_wave_count: 0, ai_two_freq: 0.0888889, ai_noizy_two_max: 1, ai_gear_freq: nil, defense_tag_list: nil, attack_tag_list: nil, technique_tag_list: nil, note_tag_list: nil, other_tag_list: nil>, #<Swars::Membership id: 97904863, battle_id: 49064081, user_id: 17413, grade_id: 3, position: 0, created_at: "2024-05-15 22:45:13.000000000 +0900", updated_at: "2024-05-25 14:35:05.000000000 +0900", grade_diff: -1, think_max: 15, op_user_id: 21316, think_last: 1, think_all_avg: 2, think_end_avg: 0, ai_drop_total: 0, judge_id: 1, location_id: 1, style_id: 3, ek_score_without_cond: 18, ek_score_with_cond: nil, ai_wave_count: 0, ai_two_freq: 0.0677966, ai_noizy_two_max: 1, ai_gear_freq: nil, defense_tag_list: nil, attack_tag_list: nil, technique_tag_list: nil, note_tag_list: nil, other_tag_list: nil>, #<Swars::Membership id: 97909143, battle_id: 49066223, user_id: 17413, grade_id: 3, position: 1, created_at: "2024-05-15 23:40:05.000000000 +0900", updated_at: "2024-05-25 14:35:05.000000000 +0900", grade_diff: -1, think_max: 25, op_user_id: 273718, think_last: 0, think_all_avg: 1, think_end_avg: 0, ai_drop_total: 0, judge_id: 1, location_id: 2, style_id: 4, ek_score_without_cond: 15, ek_score_with_cond: nil, ai_wave_count: 0, ai_two_freq: 0.0428571, ai_noizy_two_max: 2, ai_gear_freq: nil, defense_tag_list: nil, attack_tag_list: nil, technique_tag_list: nil, note_tag_list: nil, other_tag_list: nil>, #<Swars::Membership id: 97909144, battle_id: 49066224, user_id: 17413, grade_id: 3, position: 0, created_at: "2024-05-15 23:40:05.000000000 +0900", updated_at: "2024-05-25 14:35:06.000000000 +0900", grade_diff: -3, think_max: 39, op_user_id: 288369, think_last: 0, think_all_avg: 2, think_end_avg: 0, ai_drop_total: 0, judge_id: 1, location_id: 1, style_id: 2, ek_score_without_cond: 8, ek_score_with_cond: nil, ai_wave_count: 0, ai_two_freq: 0.116883, ai_noizy_two_max: 1, ai_gear_freq: nil, defense_tag_list: nil, attack_tag_list: nil, technique_tag_list: nil, note_tag_list: nil, other_tag_list: nil>, #<Swars::Membership id: 98191817, battle_id: 49207726, user_id: 17413, grade_id: 4, position: 1, created_at: "2024-05-19 23:54:49.000000000 +0900", updated_at: "2024-05-25 14:35:07.000000000 +0900", grade_diff: -1, think_max: 10, op_user_id: 48975, think_last: 8, think_all_avg: 2, think_end_avg: 3, ai_drop_total: 0, judge_id: 1, location_id: 2, style_id: 3, ek_score_without_cond: 4, ek_score_with_cond: nil, ai_wave_count: 0, ai_two_freq: 0.166667, ai_noizy_two_max: 1, ai_gear_freq: nil, defense_tag_list: nil, attack_tag_list: nil, technique_tag_list: nil, note_tag_list: nil, other_tag_list: nil>, #<Swars::Membership id: 98196869, battle_id: 49210254, user_id: 17413, grade_id: 3, position: 1, created_at: "2024-05-20 03:06:44.000000000 +0900", updated_at: "2024-05-25 14:35:08.000000000 +0900", grade_diff: 0, think_max: 23, op_user_id: 475399, think_last: 0, think_all_avg: 2, think_end_avg: 0, ai_drop_total: 0, judge_id: 1, location_id: 2, style_id: 1, ek_score_without_cond: 14, ek_score_with_cond: nil, ai_wave_count: 0, ai_two_freq: 0.140845, ai_noizy_two_max: 2, ai_gear_freq: nil, defense_tag_list: nil, attack_tag_list: nil, technique_tag_list: nil, note_tag_list: nil, other_tag_list: nil>, #<Swars::Membership id: 98196871, battle_id: 49210255, user_id: 17413, grade_id: 3, position: 1, created_at: "2024-05-20 03:06:46.000000000 +0900", updated_at: "2024-05-25 14:35:09.000000000 +0900", grade_diff: 0, think_max: 52, op_user_id: 930985, think_last: 0, think_all_avg: 3, think_end_avg: 0, ai_drop_total: 0, judge_id: 2, location_id: 2, style_id: nil, ek_score_without_cond: 8, ek_score_with_cond: nil, ai_wave_count: 0, ai_two_freq: 0.0714286, ai_noizy_two_max: 1, ai_gear_freq: nil, defense_tag_list: nil, attack_tag_list: nil, technique_tag_list: nil, note_tag_list: nil, other_tag_list: nil>, #<Swars::Membership id: 98196872, battle_id: 49210256, user_id: 17413, grade_id: 3, position: 0, created_at: "2024-05-20 03:06:49.000000000 +0900", updated_at: "2024-05-25 14:35:09.000000000 +0900", grade_diff: -1, think_max: 20, op_user_id: 96152, think_last: 1, think_all_avg: 2, think_end_avg: 3, ai_drop_total: 0, judge_id: 1, location_id: 1, style_id: nil, ek_score_without_cond: 12, ek_score_with_cond: nil, ai_wave_count: 0, ai_two_freq: 0.155172, ai_noizy_two_max: 1, ai_gear_freq: nil, defense_tag_list: nil, attack_tag_list: nil, technique_tag_list: nil, note_tag_list: nil, other_tag_list: nil>, ...]>, @ids_count=50>> (NameError)
# ~> 
# ~>             max_and_max["max"]
# ~>             ^^^^^^^^^^^
# ~> 	from <internal:kernel>:148:in `yield_self'
# ~> 	from /Users/ikeda/src/shogi-extend/app/models/swars/user_stat/daily_average_matches_stat.rb:22:in `max'
# ~> 	from -:3:in `block in <main>'
# ~> 	from /Users/ikeda/src/shogi-extend/workbench/swars/setup.rb:4:in `block (2 levels) in _'
# ~> 	from /Users/ikeda/src/shogi-extend/workbench/swars/setup.rb:4:in `times'
# ~> 	from /Users/ikeda/src/shogi-extend/workbench/swars/setup.rb:4:in `block in _'
# ~> 	from /opt/rbenv/versions/3.2.2/lib/ruby/3.2.0/benchmark.rb:311:in `realtime'
# ~> 	from /opt/rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-7.1.2/lib/active_support/core_ext/benchmark.rb:14:in `ms'
# ~> 	from /Users/ikeda/src/shogi-extend/workbench/swars/setup.rb:4:in `_'
# ~> 	from -:3:in `<main>'
# >> |------------+-----------+----+------------------+-----------------+--------------------+---------------+----------------|
# >> | battled_on | count_all | id | defense_tag_list | attack_tag_list | technique_tag_list | note_tag_list | other_tag_list |
# >> |------------+-----------+----+------------------+-----------------+--------------------+---------------+----------------|
# >> | 2024-05-15 |         6 |    |                  |                 |                    |               |                |
# >> | 2024-05-19 |         2 |    |                  |                 |                    |               |                |
# >> | 2024-05-20 |        31 |    |                  |                 |                    |               |                |
# >> | 2024-05-21 |        11 |    |                  |                 |                    |               |                |
# >> |------------+-----------+----+------------------+-----------------+--------------------+---------------+----------------|

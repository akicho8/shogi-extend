require "./setup"
info = Swars::Agent::Record.new(remote_run: true, key: Swars::BattleKey["Fukukouka-K1254-20251016_105543"]).fetch
# info = Swars::Agent::Record.new(remote_run: true, key: Swars::BattleKey["KKKRRRYYY-th_1230-20241225_205830"]).fetch
pp info
tp Swars::Agent::PropsAdapter.new(info).to_h
# puts Swars::Battle["KKKRRRYYY-th_1230-20241225_205830"].to_temporary_csa

# >> {"ply" => 0,
# >>  "gameHash" =>
# >>   {"name" => "Fukukouka-K1254-20251016_105543",
# >>    "gtype" => "",
# >>    "opponent_type" => 0,
# >>    "init_pos_type" => 0,
# >>    "sente" => "Fukukouka",
# >>    "gote" => "K1254",
# >>    "sente_dan" => 2,
# >>    "gote_dan" => 3,
# >>    "sente_avatar" => "_",
# >>    "gote_avatar" => "_e2412s6c",
# >>    "result" => "GOTE_WIN_ENTERINGKING",
# >>    "handicap" => 0,
# >>    "init_sfen_position" =>
# >>     "lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b - 1",
# >>    "moves" =>
# >>     [{"t" => 600, "n" => 0, "m" => "+7776FU"},
# >>      {"t" => 599, "n" => 1, "m" => "-3334FU"},
# >>      {"t" => 600, "n" => 2, "m" => "+8877KA"},
# >>      {"t" => 597, "n" => 3, "m" => "-2233KA"},
# >>      {"t" => 597, "n" => 4, "m" => "+1716FU"},
# >>      {"t" => 595, "n" => 5, "m" => "-1314FU"},
# >>      {"t" => 596, "n" => 6, "m" => "+2888HI"},
# >>      {"t" => 592, "n" => 7, "m" => "-8222HI"},
# >>      {"t" => 595, "n" => 8, "m" => "+8828HI"},
# >>      {"t" => 584, "n" => 9, "m" => "-4344FU"},
# >>      {"t" => 594, "n" => 10, "m" => "+7978GI"},
# >>      {"t" => 582, "n" => 11, "m" => "-3142GI"},
# >>      {"t" => 593, "n" => 12, "m" => "+3948GI"},
# >>      {"t" => 581, "n" => 13, "m" => "-5162OU"},
# >>      {"t" => 592, "n" => 14, "m" => "+3736FU"},
# >>      {"t" => 575, "n" => 15, "m" => "-4243GI"},
# >>      {"t" => 590, "n" => 16, "m" => "+5968OU"},
# >>      {"t" => 572, "n" => 17, "m" => "-6272OU"},
# >>      {"t" => 589, "n" => 18, "m" => "+6879OU"},
# >>      {"t" => 570, "n" => 19, "m" => "-4152KI"},
# >>      {"t" => 588, "n" => 20, "m" => "+9796FU"},
# >>      {"t" => 569, "n" => 21, "m" => "-9394FU"},
# >>      {"t" => 587, "n" => 22, "m" => "+4958KI"},
# >>      {"t" => 568, "n" => 23, "m" => "-7282OU"},
# >>      {"t" => 586, "n" => 24, "m" => "+7988OU"},
# >>      {"t" => 564, "n" => 25, "m" => "-9192KY"},
# >>      {"t" => 582, "n" => 26, "m" => "+2937KE"},
# >>      {"t" => 561, "n" => 27, "m" => "-8291OU"},
# >>      {"t" => 573, "n" => 28, "m" => "+4746FU"},
# >>      {"t" => 558, "n" => 29, "m" => "-7182GI"},
# >>      {"t" => 568, "n" => 30, "m" => "+2726FU"},
# >>      {"t" => 554, "n" => 31, "m" => "-6171KI"},
# >>      {"t" => 565, "n" => 32, "m" => "+3725KE"},
# >>      {"t" => 541, "n" => 33, "m" => "-3351KA"},
# >>      {"t" => 564, "n" => 34, "m" => "+4645FU"},
# >>      {"t" => 531, "n" => 35, "m" => "-2212HI"},
# >>      {"t" => 562, "n" => 36, "m" => "+4544FU"},
# >>      {"t" => 527, "n" => 37, "m" => "-4354GI"},
# >>      {"t" => 534, "n" => 38, "m" => "+8786FU"},
# >>      {"t" => 513, "n" => 39, "m" => "-5465GI"},
# >>      {"t" => 533, "n" => 40, "m" => "+7887GI"},
# >>      {"t" => 511, "n" => 41, "m" => "-2324FU"},
# >>      {"t" => 524, "n" => 42, "m" => "+1615FU"},
# >>      {"t" => 490, "n" => 43, "m" => "-2425FU"},
# >>      {"t" => 523, "n" => 44, "m" => "+1514FU"},
# >>      {"t" => 469, "n" => 45, "m" => "-0064KE"},
# >>      {"t" => 517, "n" => 46, "m" => "+2625FU"},
# >>      {"t" => 461, "n" => 47, "m" => "-6576GI"},
# >>      {"t" => 513, "n" => 48, "m" => "+8776GI"},
# >>      {"t" => 453, "n" => 49, "m" => "-6476KE"},
# >>      {"t" => 513, "n" => 50, "m" => "+8887OU"},
# >>      {"t" => 444, "n" => 51, "m" => "-0088GI"},
# >>      {"t" => 503, "n" => 52, "m" => "+8776OU"},
# >>      {"t" => 438, "n" => 53, "m" => "-8877NG"},
# >>      {"t" => 502, "n" => 54, "m" => "+8977KE"},
# >>      {"t" => 432, "n" => 55, "m" => "-7374FU"},
# >>      {"t" => 499, "n" => 56, "m" => "+7687OU"},
# >>      {"t" => 403, "n" => 57, "m" => "-5173KA"},
# >>      {"t" => 498, "n" => 58, "m" => "+0037GI"},
# >>      {"t" => 389, "n" => 59, "m" => "-0055KA"},
# >>      {"t" => 480, "n" => 60, "m" => "+0038GI"},
# >>      {"t" => 382, "n" => 61, "m" => "-3435FU"},
# >>      {"t" => 470, "n" => 62, "m" => "+5756FU"},
# >>      {"t" => 370, "n" => 63, "m" => "-5537UM"},
# >>      {"t" => 464, "n" => 64, "m" => "+3837GI"},
# >>      {"t" => 368, "n" => 65, "m" => "-3536FU"},
# >>      {"t" => 460, "n" => 66, "m" => "+0065KE"},
# >>      {"t" => 355, "n" => 67, "m" => "-3637TO"},
# >>      {"t" => 458, "n" => 68, "m" => "+6573NK"},
# >>      {"t" => 353, "n" => 69, "m" => "-3728TO"},
# >>      {"t" => 457, "n" => 70, "m" => "+7382NK"},
# >>      {"t" => 344, "n" => 71, "m" => "-7182KI"},
# >>      {"t" => 433, "n" => 72, "m" => "+8778OU"},
# >>      {"t" => 338, "n" => 73, "m" => "-2838TO"},
# >>      {"t" => 430, "n" => 74, "m" => "+4857GI"},
# >>      {"t" => 327, "n" => 75, "m" => "-0049HI"},
# >>      {"t" => 412, "n" => 76, "m" => "+5859KI"},
# >>      {"t" => 314, "n" => 77, "m" => "-4919RY"},
# >>      {"t" => 411, "n" => 78, "m" => "+0055KA"},
# >>      {"t" => 290, "n" => 79, "m" => "-1939RY"},
# >>      {"t" => 385, "n" => 80, "m" => "+0071GI"},
# >>      {"t" => 267, "n" => 81, "m" => "-0064GI"},
# >>      {"t" => 368, "n" => 82, "m" => "+5564KA"},
# >>      {"t" => 263, "n" => 83, "m" => "-6364FU"},
# >>      {"t" => 361, "n" => 84, "m" => "+7182NG"},
# >>      {"t" => 258, "n" => 85, "m" => "-9182OU"},
# >>      {"t" => 347, "n" => 86, "m" => "+7785KE"},
# >>      {"t" => 238, "n" => 87, "m" => "-0054KA"},
# >>      {"t" => 324, "n" => 88, "m" => "+0076FU"},
# >>      {"t" => 229, "n" => 89, "m" => "-0084GI"},
# >>      {"t" => 299, "n" => 90, "m" => "+0055KA"},
# >>      {"t" => 215, "n" => 91, "m" => "-1232HI"},
# >>      {"t" => 294, "n" => 92, "m" => "+5564KA"},
# >>      {"t" => 201, "n" => 93, "m" => "-0073GI"},
# >>      {"t" => 289, "n" => 94, "m" => "+8573NK"},
# >>      {"t" => 192, "n" => 95, "m" => "-8473GI"},
# >>      {"t" => 248, "n" => 96, "m" => "+6473UM"},
# >>      {"t" => 190, "n" => 97, "m" => "-8173KE"},
# >>      {"t" => 231, "n" => 98, "m" => "+0064KI"},
# >>      {"t" => 181, "n" => 99, "m" => "-5476KA"},
# >>      {"t" => 203, "n" => 100, "m" => "+6473KI"},
# >>      {"t" => 173, "n" => 101, "m" => "-8273OU"},
# >>      {"t" => 202, "n" => 102, "m" => "+0085KE"},
# >>      {"t" => 162, "n" => 103, "m" => "-7363OU"},
# >>      {"t" => 181, "n" => 104, "m" => "+0098GI"},
# >>      {"t" => 146, "n" => 105, "m" => "-3237RY"},
# >>      {"t" => 173, "n" => 106, "m" => "+5768GI"},
# >>      {"t" => 143, "n" => 107, "m" => "-6354OU"},
# >>      {"t" => 163, "n" => 108, "m" => "+0043GI"},
# >>      {"t" => 128, "n" => 109, "m" => "-5243KI"},
# >>      {"t" => 162, "n" => 110, "m" => "+4443TO"},
# >>      {"t" => 127, "n" => 111, "m" => "-5443OU"},
# >>      {"t" => 148, "n" => 112, "m" => "+0045FU"},
# >>      {"t" => 118, "n" => 113, "m" => "-4334OU"},
# >>      {"t" => 127, "n" => 114, "m" => "+9887GI"},
# >>      {"t" => 111, "n" => 115, "m" => "-7654KA"},
# >>      {"t" => 120, "n" => 116, "m" => "+5655FU"},
# >>      {"t" => 109, "n" => 117, "m" => "-5445KA"},
# >>      {"t" => 111, "n" => 118, "m" => "+0047FU"},
# >>      {"t" => 105, "n" => 119, "m" => "-3425OU"},
# >>      {"t" => 108, "n" => 120, "m" => "+0046GI"},
# >>      {"t" => 101, "n" => 121, "m" => "-4527UM"},
# >>      {"t" => 107, "n" => 122, "m" => "+4637GI"},
# >>      {"t" => 97, "n" => 123, "m" => "-2737UM"},
# >>      {"t" => 106, "n" => 124, "m" => "+0023HI"},
# >>      {"t" => 65, "n" => 125, "m" => "-2516OU"},
# >>      {"t" => 104, "n" => 126, "m" => "+0066KI"},
# >>      {"t" => 56, "n" => 127, "m" => "-0026FU"},
# >>      {"t" => 102, "n" => 128, "m" => "+2321RY"},
# >>      {"t" => 52, "n" => 129, "m" => "-0075KE"},
# >>      {"t" => 100, "n" => 130, "m" => "+6675KI"},
# >>      {"t" => 50, "n" => 131, "m" => "-7475FU"},
# >>      {"t" => 94, "n" => 132, "m" => "+0077FU"},
# >>      {"t" => 48, "n" => 133, "m" => "-1627OU"},
# >>      {"t" => 93, "n" => 134, "m" => "+2111RY"},
# >>      {"t" => 44, "n" => 135, "m" => "-0016FU"},
# >>      {"t" => 91, "n" => 136, "m" => "+1413TO"},
# >>      {"t" => 42, "n" => 137, "m" => "-1617TO"},
# >>      {"t" => 90, "n" => 138, "m" => "+1323TO"},
# >>      {"t" => 41, "n" => 139, "m" => "-1728TO"},
# >>      {"t" => 89, "n" => 140, "m" => "+8573NK"},
# >>      {"t" => 39, "n" => 141, "m" => "-0016FU"},
# >>      {"t" => 88, "n" => 142, "m" => "+7383NK"},
# >>      {"t" => 36, "n" => 143, "m" => "-1617TO"},
# >>      {"t" => 87, "n" => 144, "m" => "+8392NK"},
# >>      {"t" => 34, "n" => 145, "m" => "-0018GI"},
# >>      {"t" => 87, "n" => 146, "m" => "+9695FU"},
# >>      {"t" => 32, "n" => 147, "m" => "-0056KA"},
# >>      {"t" => 85, "n" => 148, "m" => "+7888OU"},
# >>      {"t" => 30, "n" => 149, "m" => "-5623KA"},
# >>      {"t" => 83, "n" => 150, "m" => "+9594FU"},
# >>      {"t" => 29, "n" => 151, "m" => "-2356KA"},
# >>      {"t" => 80, "n" => 152, "m" => "+8897OU"},
# >>      {"t" => 27, "n" => 153, "m" => "-5647UM"},
# >>      {"t" => 78, "n" => 154, "m" => "+9796OU"},
# >>      {"t" => 24, "n" => 155, "m" => "-0048FU"},
# >>      {"t" => 76, "n" => 156, "m" => "+9493TO"},
# >>      {"t" => 23, "n" => 157, "m" => "-4849TO"},
# >>      {"t" => 73, "n" => 158, "m" => "+8685FU"},
# >>      {"t" => 22, "n" => 159, "m" => "-4959TO"},
# >>      {"t" => 72, "n" => 160, "m" => "+6859GI"},
# >>      {"t" => 20, "n" => 161, "m" => "-0048FU"},
# >>      {"t" => 70, "n" => 162, "m" => "+9695OU"},
# >>      {"t" => 19, "n" => 163, "m" => "-4849TO"},
# >>      {"t" => 68, "n" => 164, "m" => "+5968GI"},
# >>      {"t" => 16, "n" => 165, "m" => "-3848TO"},
# >>      {"t" => 67, "n" => 166, "m" => "+8584FU"},
# >>      {"t" => 15, "n" => 167, "m" => "-4858TO"},
# >>      {"t" => 64, "n" => 168, "m" => "+8483FU"},
# >>      {"t" => 14, "n" => 169, "m" => "-5868TO"},
# >>      {"t" => 59, "n" => 170, "m" => "+8382TO"},
# >>      {"t" => 13, "n" => 171, "m" => "-6869TO"},
# >>      {"t" => 58, "n" => 172, "m" => "+9594OU"},
# >>      {"t" => 11, "n" => 173, "m" => "-0038FU"},
# >>      {"t" => 56, "n" => 174, "m" => "+9383TO"},
# >>      {"t" => 10, "n" => 175, "m" => "-0048FU"},
# >>      {"t" => 55, "n" => 176, "m" => "+9493OU"}],
# >>    "sente_time_limit" => 600,
# >>    "gote_time_limit" => 600,
# >>    "sente_byoyomi" => 0,
# >>    "gote_byoyomi" => 0},
# >>  "userConfig" =>
# >>   {"imgPieceType" => "ja_single",
# >>    "soundEnable" => true,
# >>    "voiceType" => 0,
# >>    "situationFormat" => "evaluation"},
# >>  "isNeedRealtime" => false,
# >>  "isNeedTargetParent" => false,
# >>  "isNotReload" => false,
# >>  "settings" =>
# >>   {"cdn.image" => "//image-pona.heroz.jp",
# >>    "cdn.sound" => "//sound-pona.heroz.jp",
# >>    "goldengate.match.host" => "wss://shogiwars-game-web.heroz.jp:7012",
# >>    "javascript.log_level" => "error"},
# >>  "version" => "",
# >>  "askWatchGamesOptions" => {"isBotOnly" => false, "closedEventid" => nil}}
# >> |-----------+-----------------------------------------------------------------|
# >> |   対局KEY | Fukukouka-K1254-20251016_105543                                 |
# >> |  対局日時 | 2025-10-16 10:55:43                                             |
# >> |    ルール | 10分                                                            |
# >> |      種類 | 野良                                                            |
# >> |  開始局面 | 通常                                                            |
# >> |    手合割 | 平手                                                            |
# >> |      結末 | 入玉                                                            |
# >> |  両者名前 | Fukukouka:三段 vs K1254:四段                                    |
# >> |  勝った側 | △                                                              |
# >> | 対局後か? | true                                                            |
# >> | 対局中か? | false                                                           |
# >> | 正常終了? | true                                                            |
# >> | 棋譜有り? | true                                                            |
# >> |  棋譜手数 | 177                                                             |
# >> |  初期配置 | lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b - 1 |
# >> |-----------+-----------------------------------------------------------------|

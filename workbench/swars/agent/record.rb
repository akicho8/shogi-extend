require "./setup"
info = Swars::Agent::Record.new(remote_run: true, key: Swars::BattleKey["KKKRRRYYY-th_1230-20241225_205830"]).fetch
pp info
tp Swars::Agent::PropsAdapter.new(info).to_h
# puts Swars::Battle["KKKRRRYYY-th_1230-20241225_205830"].to_temporary_csa

# >> {"gameHash"=>
# >>   {"name"=>"KKKRRRYYY-th_1230-20241225_205830",
# >>    "gtype"=>"",
# >>    "opponent_type"=>0,
# >>    "sente"=>"KKKRRRYYY",
# >>    "gote"=>"th_1230",
# >>    "sente_dan"=>1,
# >>    "gote_dan"=>0,
# >>    "sente_avatar"=>"_",
# >>    "gote_avatar"=>"_e2212s4c",
# >>    "result"=>"SENTE_WIN_TIMEOUT",
# >>    "handicap"=>0,
# >>    "init_sfen_position"=>
# >>     "lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b - 1",
# >>    "moves"=>
# >>     [{"t"=>592, "n"=>0, "m"=>"+7776FU"},
# >>      {"t"=>599, "n"=>1, "m"=>"-8384FU"},
# >>      {"t"=>591, "n"=>2, "m"=>"+8877KA"},
# >>      {"t"=>597, "n"=>3, "m"=>"-3334FU"},
# >>      {"t"=>590, "n"=>4, "m"=>"+7968GI"},
# >>      {"t"=>595, "n"=>5, "m"=>"-7162GI"},
# >>      {"t"=>589, "n"=>6, "m"=>"+3948GI"},
# >>      {"t"=>594, "n"=>7, "m"=>"-8485FU"},
# >>      {"t"=>587, "n"=>8, "m"=>"+6978KI"},
# >>      {"t"=>591, "n"=>9, "m"=>"-4132KI"},
# >>      {"t"=>587, "n"=>10, "m"=>"+4746FU"},
# >>      {"t"=>587, "n"=>11, "m"=>"-6152KI"},
# >>      {"t"=>586, "n"=>12, "m"=>"+4847GI"},
# >>      {"t"=>586, "n"=>13, "m"=>"-6364FU"},
# >>      {"t"=>586, "n"=>14, "m"=>"+4756GI"},
# >>      {"t"=>586, "n"=>15, "m"=>"-6263GI"},
# >>      {"t"=>585, "n"=>16, "m"=>"+5969OU"},
# >>      {"t"=>584, "n"=>17, "m"=>"-6354GI"},
# >>      {"t"=>584, "n"=>18, "m"=>"+4958KI"},
# >>      {"t"=>584, "n"=>19, "m"=>"-9394FU"},
# >>      {"t"=>583, "n"=>20, "m"=>"+9796FU"},
# >>      {"t"=>583, "n"=>21, "m"=>"-7374FU"},
# >>      {"t"=>583, "n"=>22, "m"=>"+6979OU"},
# >>      {"t"=>581, "n"=>23, "m"=>"-8173KE"},
# >>      {"t"=>582, "n"=>24, "m"=>"+2848HI"},
# >>      {"t"=>573, "n"=>25, "m"=>"-8281HI"},
# >>      {"t"=>578, "n"=>26, "m"=>"+1716FU"},
# >>      {"t"=>571, "n"=>27, "m"=>"-5162OU"},
# >>      {"t"=>576, "n"=>28, "m"=>"+1615FU"},
# >>      {"t"=>557, "n"=>29, "m"=>"-2277UM"},
# >>      {"t"=>574, "n"=>30, "m"=>"+6877GI"},
# >>      {"t"=>556, "n"=>31, "m"=>"-3122GI"},
# >>      {"t"=>572, "n"=>32, "m"=>"+7988OU"},
# >>      {"t"=>555, "n"=>33, "m"=>"-2233GI"},
# >>      {"t"=>571, "n"=>34, "m"=>"+6766FU"},
# >>      {"t"=>521, "n"=>35, "m"=>"-5463GI"},
# >>      {"t"=>562, "n"=>36, "m"=>"+9998KY"},
# >>      {"t"=>518, "n"=>37, "m"=>"-5354FU"},
# >>      {"t"=>560, "n"=>38, "m"=>"+8899OU"},
# >>      {"t"=>517, "n"=>39, "m"=>"-3344GI"},
# >>      {"t"=>550, "n"=>40, "m"=>"+7888KI"},
# >>      {"t"=>511, "n"=>41, "m"=>"-2133KE"},
# >>      {"t"=>548, "n"=>42, "m"=>"+8878KI"},
# >>      {"t"=>508, "n"=>43, "m"=>"-4453GI"},
# >>      {"t"=>547, "n"=>44, "m"=>"+7788GI"},
# >>      {"t"=>506, "n"=>45, "m"=>"-8586FU"},
# >>      {"t"=>546, "n"=>46, "m"=>"+8786FU"},
# >>      {"t"=>500, "n"=>47, "m"=>"-8186HI"},
# >>      {"t"=>544, "n"=>48, "m"=>"+8887GI"},
# >>      {"t"=>497, "n"=>49, "m"=>"-8681HI"},
# >>      {"t"=>543, "n"=>50, "m"=>"+0086FU"},
# >>      {"t"=>392, "n"=>51, "m"=>"-2324FU"},
# >>      {"t"=>540, "n"=>52, "m"=>"+5868KI"},
# >>      {"t"=>383, "n"=>53, "m"=>"-2425FU"},
# >>      {"t"=>533, "n"=>54, "m"=>"+4828HI"},
# >>      {"t"=>347, "n"=>55, "m"=>"-5455FU"},
# >>      {"t"=>525, "n"=>56, "m"=>"+5667GI"},
# >>      {"t"=>345, "n"=>57, "m"=>"-4344FU"},
# >>      {"t"=>521, "n"=>58, "m"=>"+2726FU"},
# >>      {"t"=>328, "n"=>59, "m"=>"-4445FU"},
# >>      {"t"=>509, "n"=>60, "m"=>"+4645FU"},
# >>      {"t"=>300, "n"=>61, "m"=>"-8141HI"},
# >>      {"t"=>494, "n"=>62, "m"=>"+2848HI"},
# >>      {"t"=>298, "n"=>63, "m"=>"-2526FU"},
# >>      {"t"=>471, "n"=>64, "m"=>"+0028FU"},
# >>      {"t"=>274, "n"=>65, "m"=>"-0047FU"},
# >>      {"t"=>444, "n"=>66, "m"=>"+4847HI"},
# >>      {"t"=>271, "n"=>67, "m"=>"-0038KA"},
# >>      {"t"=>442, "n"=>68, "m"=>"+4746HI"},
# >>      {"t"=>267, "n"=>69, "m"=>"-3829UM"},
# >>      {"t"=>427, "n"=>70, "m"=>"+3736FU"},
# >>      {"t"=>264, "n"=>71, "m"=>"-2928UM"},
# >>      {"t"=>426, "n"=>72, "m"=>"+4649HI"},
# >>      {"t"=>258, "n"=>73, "m"=>"-0048FU"},
# >>      {"t"=>424, "n"=>74, "m"=>"+4948HI"},
# >>      {"t"=>249, "n"=>75, "m"=>"-2837UM"},
# >>      {"t"=>423, "n"=>76, "m"=>"+4849HI"},
# >>      {"t"=>240, "n"=>77, "m"=>"-2627TO"},
# >>      {"t"=>392, "n"=>78, "m"=>"+3635FU"},
# >>      {"t"=>235, "n"=>79, "m"=>"-0048FU"},
# >>      {"t"=>385, "n"=>80, "m"=>"+4959HI"},
# >>      {"t"=>209, "n"=>81, "m"=>"-5556FU"},
# >>      {"t"=>379, "n"=>82, "m"=>"+6756GI"},
# >>      {"t"=>196, "n"=>83, "m"=>"-3345KE"},
# >>      {"t"=>377, "n"=>84, "m"=>"+7675FU"},
# >>      {"t"=>175, "n"=>85, "m"=>"-0047KE"},
# >>      {"t"=>366, "n"=>86, "m"=>"+5979HI"},
# >>      {"t"=>168, "n"=>87, "m"=>"-3746UM"},
# >>      {"t"=>342, "n"=>88, "m"=>"+5645GI"},
# >>      {"t"=>150, "n"=>89, "m"=>"-4645UM"},
# >>      {"t"=>336, "n"=>90, "m"=>"+0056KA"},
# >>      {"t"=>142, "n"=>91, "m"=>"-4556UM"},
# >>      {"t"=>335, "n"=>92, "m"=>"+5756FU"},
# >>      {"t"=>130, "n"=>93, "m"=>"-4849TO"},
# >>      {"t"=>327, "n"=>94, "m"=>"+7574FU"},
# >>      {"t"=>128, "n"=>95, "m"=>"-6374GI"},
# >>      {"t"=>326, "n"=>96, "m"=>"+7888KI"},
# >>      {"t"=>126, "n"=>97, "m"=>"-0075FU"},
# >>      {"t"=>324, "n"=>98, "m"=>"+0076FU"},
# >>      {"t"=>115, "n"=>99, "m"=>"-7576FU"},
# >>      {"t"=>317, "n"=>100, "m"=>"+0075FU"},
# >>      {"t"=>101, "n"=>101, "m"=>"-7475GI"},
# >>      {"t"=>316, "n"=>102, "m"=>"+8776GI"},
# >>      {"t"=>100, "n"=>103, "m"=>"-7576GI"},
# >>      {"t"=>315, "n"=>104, "m"=>"+7976HI"},
# >>      {"t"=>84, "n"=>105, "m"=>"-0054KA"},
# >>      {"t"=>307, "n"=>106, "m"=>"+6665FU"},
# >>      {"t"=>82, "n"=>107, "m"=>"-5465KA"},
# >>      {"t"=>302, "n"=>108, "m"=>"+7675HI"},
# >>      {"t"=>77, "n"=>109, "m"=>"-0074FU"},
# >>      {"t"=>292, "n"=>110, "m"=>"+7565HI"},
# >>      {"t"=>73, "n"=>111, "m"=>"-6465FU"},
# >>      {"t"=>286, "n"=>112, "m"=>"+0063FU"},
# >>      {"t"=>68, "n"=>113, "m"=>"-5263KI"},
# >>      {"t"=>285, "n"=>114, "m"=>"+0055KE"},
# >>      {"t"=>61, "n"=>115, "m"=>"-0079GI"},
# >>      {"t"=>281, "n"=>116, "m"=>"+6878KI"},
# >>      {"t"=>58, "n"=>117, "m"=>"-7988NG"},
# >>      {"t"=>280, "n"=>118, "m"=>"+7888KI"},
# >>      {"t"=>56, "n"=>119, "m"=>"-0087FU"},
# >>      {"t"=>271, "n"=>120, "m"=>"+8887KI"},
# >>      {"t"=>50, "n"=>121, "m"=>"-0058HI"},
# >>      {"t"=>269, "n"=>122, "m"=>"+0088GI"},
# >>      {"t"=>43, "n"=>123, "m"=>"-0078KI"},
# >>      {"t"=>267, "n"=>124, "m"=>"+0079GI"},
# >>      {"t"=>34, "n"=>125, "m"=>"-7879KI"},
# >>      {"t"=>266, "n"=>126, "m"=>"+8879GI"},
# >>      {"t"=>33, "n"=>127, "m"=>"-5859RY"},
# >>      {"t"=>249, "n"=>128, "m"=>"+0088KA"},
# >>      {"t"=>25, "n"=>129, "m"=>"-5354GI"},
# >>      {"t"=>218, "n"=>130, "m"=>"+5563NK"},
# >>      {"t"=>23, "n"=>131, "m"=>"-5463GI"},
# >>      {"t"=>216, "n"=>132, "m"=>"+0064FU"},
# >>      {"t"=>21, "n"=>133, "m"=>"-6364GI"},
# >>      {"t"=>214, "n"=>134, "m"=>"+0054KI"},
# >>      {"t"=>18, "n"=>135, "m"=>"-0075KE"},
# >>      {"t"=>207, "n"=>136, "m"=>"+0063KI"},
# >>      {"t"=>16, "n"=>137, "m"=>"-6271OU"},
# >>      {"t"=>171, "n"=>138, "m"=>"+0076KA"},
# >>      {"t"=>14, "n"=>139, "m"=>"-7587NK"},
# >>      {"t"=>164, "n"=>140, "m"=>"+7687KA"},
# >>      {"t"=>12, "n"=>141, "m"=>"-0068GI"},
# >>      {"t"=>158, "n"=>142, "m"=>"+0069FU"},
# >>      {"t"=>10, "n"=>143, "m"=>"-6879GI"},
# >>      {"t"=>157, "n"=>144, "m"=>"+8879KA"},
# >>      {"t"=>5, "n"=>145, "m"=>"-0088FU"},
# >>      {"t"=>152, "n"=>146, "m"=>"+9988OU"},
# >>      {"t"=>2, "n"=>147, "m"=>"-5958RY"},
# >>      {"t"=>147, "n"=>148, "m"=>"+0078FU"},
# >>      {"t"=>nil, "n"=>149, "m"=>"-5867RY"},
# >>      {"t"=>139, "n"=>150, "m"=>"+0072GI"}]},
# >>  "userConfig"=>
# >>   {"imgPieceType"=>"ja_single",
# >>    "soundEnable"=>true,
# >>    "voiceType"=>0,
# >>    "situationFormat"=>"evaluation"},
# >>  "isNeedRealtime"=>false,
# >>  "isNeedTargetParent"=>false,
# >>  "isNotReload"=>false,
# >>  "settings"=>
# >>   {"cdn.image"=>"//image-pona.heroz.jp",
# >>    "cdn.sound"=>"//sound-pona.heroz.jp",
# >>    "goldengate.match.host"=>"wss://shogiwars-game-web.heroz.jp:7012",
# >>    "javascript.log_level"=>"error"},
# >>  "version"=>""}
# >> |-----------+-----------------------------------|
# >> |   対局KEY | KKKRRRYYY-th_1230-20241225_205830 |
# >> |  対局日時 | 2024-12-25 20:58:30               |
# >> |    ルール | 10分                              |
# >> |      種類 | 野良                              |
# >> |    手合割 | 平手                              |
# >> |      結末 | 時間切れ                          |
# >> |  両者名前 | KKKRRRYYY:二段 vs th_1230:初段    |
# >> |  勝った側 | ▲                                |
# >> | 対局後か? | true                              |
# >> | 対局中か? | false                             |
# >> | 正常終了? | true                              |
# >> | 棋譜有り? | true                              |
# >> |  棋譜手数 | 151                               |
# >> |-----------+-----------------------------------|

require "./setup"
_ { Swars::User["SugarHuuko"].stat.average_moves_at_resignation_stat.average }        # => "101.65 ms"
s { Swars::User["SugarHuuko"].stat.average_moves_at_resignation_stat.average }        # => 100
# >>   Swars::User Load (0.3ms)  SELECT `swars_users`.* FROM `swars_users` WHERE `swars_users`.`user_key` = 'SugarHuuko' LIMIT 1 /*application='ShogiWeb'*/
# >>   ↳ app/models/swars/user.rb:45:in 'Swars::User.[]'
# >>   Swars::Membership Ids (10.6ms)  SELECT `swars_memberships`.`id` FROM `swars_memberships` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` WHERE `swars_memberships`.`user_id` = 17413 ORDER BY `swars_battles`.`battled_at` DESC LIMIT 50 /*application='ShogiWeb'*/
# >>   ↳ app/models/swars/user/stat/scope_ext.rb:31:in 'Swars::User::Stat::ScopeExt#scope_ids'
# >>   Swars::Membership Average (1.6ms)  SELECT AVG(`swars_battles`.`turn_max`) FROM `swars_memberships` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` INNER JOIN `swars_imodes` ON `swars_imodes`.`id` = `swars_battles`.`imode_id` INNER JOIN `swars_finals` ON `swars_finals`.`id` = `swars_battles`.`final_id` WHERE `swars_memberships`.`id` IN (118689399, 118689421, 118689422, 118689424, 118689426, 118689429, 118689431, 118689432, 118689435, 118738139, 118738150, 118738161, 118738164, 118738165, 118738168, 118738170, 118689445, 118738172, 118738173, 118689402, 118689403, 118689406, 118689407, 118689410, 118689411, 118689414, 118663205, 118689419, 118686043, 118664996, 118665000, 118695959, 118658894, 118702422, 118652311, 118652317, 118652321, 118649898, 118649900, 118649901, 118649903, 118649906, 118649907, 118647740, 118647742, 118647744, 118647747, 118645471, 118645476, 118645480) AND `judges`.`key` = 'lose' AND `swars_imodes`.`key` = 'normal' AND `swars_finals`.`key` = 'TORYO' /*application='ShogiWeb'*/
# >>   ↳ app/models/swars/user/stat/average_moves_at_resignation_stat.rb:16:in 'Swars::User::Stat::AverageMovesAtResignationStat#average'

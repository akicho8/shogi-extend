require "./setup"
_ { Swars::User["BOUYATETSU5"].stat(sample_max: 500).unstable_network_stat.count } # => "159.43 ms"
s { Swars::User["BOUYATETSU5"].stat(sample_max: 500).unstable_network_stat.count } # => 12
# >>   Swars::User Load (0.5ms)  SELECT `swars_users`.* FROM `swars_users` WHERE `swars_users`.`user_key` = 'BOUYATETSU5' LIMIT 1
# >>   ↳ app/models/swars/user.rb:44:in `[]'
# >>   Swars::Membership Ids (5.0ms)  SELECT `swars_memberships`.`id` FROM `swars_memberships` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` WHERE `swars_memberships`.`user_id` = 228939 ORDER BY `swars_battles`.`battled_at` DESC LIMIT 500
# >>   ↳ app/models/swars/user/stat/scope_ext.rb:54:in `scope_ids'
# >>   Swars::Membership Count (18.8ms)  SELECT COUNT(*) FROM `swars_memberships` INNER JOIN `swars_battles` ON `swars_battles`.`id` = `swars_memberships`.`battle_id` INNER JOIN `swars_finals` ON `swars_finals`.`id` = `swars_battles`.`final_id` INNER JOIN `judges` ON `judges`.`id` = `swars_memberships`.`judge_id` WHERE `swars_memberships`.`id` IN (99412156, 99408166, 99404922, 99338032, 99338034, 99338037, 99338040, 99338041, 99338044, 98841385, 98841387, 98841388, 98836664, 98834308, 98829692, 98834310, 98825774, 98368179, 98364955, 98362853, 98360681, 98356113, 98352919, 98348128, 98347359, 97812799, 97809725, 97809727, 97800760, 97799103, 97798247, 97528787, 97527767, 97523837, 97522878, 97522880, 97522882, 97516465, 97522883, 97522885, 97403964, 97400591, 97397963, 97397966, 97392765, 97392773, 97392775, 97392778, 96031707, 96029067, 96027176, 96025045, 96025117, 96025118, 96019647, 96019649, 96019651, 96019653, 96014797, 96012288, 96012290, 96012292, 96008385, 96006791, 96006794, 96006796, 95622576, 95622577, 95619244, 95618779, 95616049, 95614397, 95612883, 95612888, 95607387, 95439419, 95436205, 95436207, 95432757, 95430004, 95428081, 95419939, 95365003, 95365005, 95361188, 95357186, 95355833, 95353287, 95351108, 95350319, 94975576, 94971991, 94968423, 94966179, 94962983, 94960323, 94220408, 94220410, 94216705, 94213621, 94209682, 94206121, 94206123, 94201401, 94141476, 94135660, 94134591, 94132018, 94132020, 94132023, 94132025, 94132026, 94123384, 94120967, 94119220, 94119430, 94119431, 93519184, 93518121, 93515458, 93512080, 93513608, 93506458, 93503023, 93500953, 93500958, 93500955, 93497779, 92052010, 92052014, 92052017, 92052021, 92052026, 91567597, 91564006, 91562277, 91559584, 91556126, 91550913, 91545663, 91543356, 91543361, 91415170, 91413362, 91409591, 91407119, 91407121, 91407122, 91403857, 91401147, 91350807, 91350811, 91344372, 91344373, 91339301, 91339304, 91339306, 91339308, 91332288, 91330043, 91330046, 90501423, 90501426, 90497180, 90496094, 90496095, 90489387, 90487552, 90160835, 90159679, 90157386, 90157389, 90093207, 90093211, 90093215, 90087446, 90087449, 89242030, 89241569, 89237852, 89237854, 89174888, 89174891, 89168647, 89168652, 89168653, 89099399, 89098383, 89095667, 89093335, 89093339, 89088785, 89038789, 89038669, 89033804, 89033809, 89027551, 89025916, 89027553, 89024098, 88995122, 88975217, 88972439, 88971127, 88967636, 88967534, 88964023, 88961958, 88959434, 88959082, 88959085, 88932739, 86867358, 86867362, 86867366, 86861451, 86861452, 86861455, 86853951, 86853956, 86853957, 86739507, 86745201, 86745202, 86731419, 86729758, 86729760, 86725196, 86725199, 86591661, 86591663, 86591665, 86591667, 86591669, 86578611, 86578613, 86578617, 85745620, 85745622, 85742486, 85739177, 85692895, 85689906, 85689907, 85683938, 85679178, 85679180, 85673775, 85673777, 85673779, 85673780, 85671993, 85629384, 85629386, 85629388, 85624528, 85624531, 85615762, 85611860, 85611863, 85611865, 85611867, 84351825, 84350374, 84347959, 84347961, 84342714, 84341271, 84336951, 84336623, 83865176, 83863075, 83859087, 83859089, 83856860, 83853155, 83856862, 83856865, 83805551, 83801220, 83796344, 83793684, 83793686, 83788829, 83000069, 83000071, 82996191, 82996193, 82996194, 82991704, 82990014, 82990015, 82990018, 82987710, 82987712, 82981273, 82979564, 82946656, 82943818, 82938754, 82938756, 82935191, 82935193, 82935195, 82935198, 82927144, 82927145, 82469056, 82462780, 82453744, 82453746, 82448555, 82448559, 81525864, 81523554, 81520958, 81519756, 81468134, 81460666, 81454583, 81454585, 81448973, 81428789, 81410675, 81391285, 81390799, 81390802, 80160352, 80160353, 80160355, 80160357, 80148169, 80148172, 80141539, 80140111, 80137424, 80137359, 80137361, 80094062, 80091399, 80091402, 80084161, 80078968, 80078971, 80076068, 79978062, 79978063, 79967650, 79967652, 79962575, 79962578, 79958876, 79954277, 79208516, 79209537, 77983822, 77983824, 77983827, 77983829, 77983830, 77917901, 77916631, 77914237, 77907979, 77905991, 77904704, 77904105, 77219241, 77218874, 77212682, 77212684, 77212687, 77210761, 77206043, 77206046, 77206048, 77157549, 77152454, 77150947, 77149554, 77149559, 77142837, 77030250, 77030252, 77020401, 77019376, 77020007, 76972683, 76969521, 76967243, 76966416, 76964282, 76959788, 76956858, 76955496, 76955498, 76953931, 76774337, 76767167, 76764984, 76763290, 76761657, 76758341, 76244848, 76241523, 76241525, 76238914, 76231827, 76230009, 76183167, 76183173, 76183178, 76183179, 76183181, 76183184, 76183189, 76183192, 76175785, 76174547, 76174550, 76174551, 76057789, 76057792, 76047845, 76044196, 76044198, 76038555, 76034306, 75391821, 75391561, 75391563, 75384759, 75382570, 75378060, 75376172, 75344158, 75334876, 75327368, 75327197, 75323408, 75206614, 75206261, 75204292, 75147133, 75146005, 75143994, 75136900, 75134565, 75133682, 74367289, 74367291, 74367297, 74367299, 74367302, 74367306, 74362788, 74317299, 74317301, 74315555, 74315557, 74313046, 74311275, 74311276, 74311278, 74304314, 74304316, 74304317, 74304319, 74044485, 74036677, 74036679, 74036682, 74036684, 73997011, 73997013, 73997014, 73997017, 73997018, 73953227, 73949686, 73948039, 73948044, 73948045, 73945389, 73945391, 73945393, 73562498, 73562504, 73562508, 73562510, 73562513, 73443812, 73443814, 73433345, 73429724, 73366391, 73366394, 73366396, 73355875, 73352394) AND `swars_battles`.`turn_max` = 1 AND `swars_finals`.`key` = 'DISCONNECT' AND `judges`.`key` = 'lose'
# >>   ↳ app/models/swars/user/stat/unstable_network_stat.rb:18:in `block in count'

require "#{__dir__}/setup"
# sql
# tp Tsl::User.plus_minus_search("藤本 -71").distinct # => #<ActiveRecord::Relation []>
tp Tsl::User.plus_minus_search("藤")
user = Tsl::User.find_by(name: "伊藤匠")
tp user
tp user.memberships
tp user.leagues

# >> |-----+------------+-----------+----------+-------------------+-----------------+---------------------+---------------------------+---------------------------|
# >> | id  | name       | min_age | max_age | memberships_count | runner_up_count | promotion_membership_id | created_at                | updated_at                |
# >> |-----+------------+-----------+----------+-------------------+-----------------+---------------------+---------------------------+---------------------------|
# >> |   2 | 佐藤佳一郎 |        23 |       25 |                 6 |               1 |                     | 2023-12-18 11:52:29 +0900 | 2025-08-11 15:56:01 +0900 |
# >> |  13 | 佐藤和俊   |        22 |       24 |                 6 |               0 |                  33 | 2023-12-18 11:52:29 +0900 | 2025-08-11 15:56:03 +0900 |
# >> |  33 | 伊藤匠     |        15 |       17 |                 5 |               0 |                  67 | 2023-12-18 11:52:29 +0900 | 2025-08-11 15:56:41 +0900 |
# >> |  42 | 斎藤優希   |        21 |       28 |                14 |               1 |                  76 | 2023-12-18 11:52:29 +0900 | 2025-08-11 15:56:58 +0900 |
# >> |  61 | 斎藤光寿   |        19 |       24 |                11 |               0 |                     | 2023-12-18 11:52:30 +0900 | 2025-08-11 15:56:58 +0900 |
# >> |  69 | 藤倉勇樹   |        21 |       22 |                 3 |               0 |                  31 | 2025-08-11 15:53:44 +0900 | 2025-08-11 15:56:00 +0900 |
# >> |  70 | 佐藤慎一   |        18 |       25 |                15 |               0 |                  43 | 2025-08-11 15:53:44 +0900 | 2025-08-11 15:56:16 +0900 |
# >> |  75 | 伊藤真吾   |        20 |       24 |                10 |               2 |                     | 2025-08-11 15:56:00 +0900 | 2025-08-11 15:56:12 +0900 |
# >> |  80 | 佐藤天彦   |        14 |       18 |                 8 |               2 |                  39 | 2025-08-11 15:56:02 +0900 | 2025-08-11 15:56:10 +0900 |
# >> | 109 | 佐藤秀和   |        22 |       25 |                 7 |               0 |                     | 2025-08-11 15:56:11 +0900 | 2025-08-11 15:56:17 +0900 |
# >> | 122 | 藤森哲也   |        20 |       24 |                 8 |               0 |                  49 | 2025-08-11 15:56:14 +0900 | 2025-08-11 15:56:23 +0900 |
# >> | 129 | 斎藤慎太郎 |        14 |       18 |                 8 |               1 |                  50 | 2025-08-11 15:56:16 +0900 | 2025-08-11 15:56:25 +0900 |
# >> | 138 | 伊藤和夫   |        21 |       25 |                10 |               0 |                     | 2025-08-11 15:56:21 +0900 | 2025-08-11 15:56:31 +0900 |
# >> | 153 | 藤原結樹   |        22 |       25 |                 7 |               0 |                     | 2025-08-11 15:56:26 +0900 | 2025-08-11 15:56:31 +0900 |
# >> | 167 | 近藤誠也   |        17 |       18 |                 4 |               0 |                  57 | 2025-08-11 15:56:30 +0900 | 2025-08-11 15:56:34 +0900 |
# >> | 171 | 藤田彰一   |        22 |       25 |                 8 |               0 |                     | 2025-08-11 15:56:31 +0900 | 2025-08-11 15:56:39 +0900 |
# >> | 177 | 斎藤明日斗 |        17 |       18 |                 4 |               0 |                  61 | 2025-08-11 15:56:35 +0900 | 2025-08-11 15:56:39 +0900 |
# >> | 179 | 藤井聡太   |        13 |       13 |                 1 |               0 |                  59 | 2025-08-11 15:56:36 +0900 | 2025-08-11 15:56:36 +0900 |
# >> | 192 | 藤本渚     |        16 |       16 |                 2 |               0 |                  71 | 2025-08-11 15:56:50 +0900 | 2025-08-11 15:56:51 +0900 |
# >> | 197 | 斎藤裕也   |        24 |       24 |                 1 |               0 |                  71 | 2025-08-11 15:56:51 +0900 | 2025-08-11 15:56:51 +0900 |
# >> | 201 | 藤原悠暉   |        21 |       23 |                 6 |               0 |                     | 2025-08-11 15:56:53 +0900 | 2025-08-11 15:56:58 +0900 |
# >> |-----+------------+-----------+----------+-------------------+-----------------+---------------------+---------------------------+---------------------------|
# >> |---------------------+---------------------------|
# >> |                  id | 33                        |
# >> |                name | 伊藤匠                    |
# >> |           min_age | 15                        |
# >> |            max_age | 17                        |
# >> |   memberships_count | 5                         |
# >> |     runner_up_count | 0                         |
# >> | promotion_membership_id | 67                        |
# >> |          created_at | 2023-12-18 11:52:29 +0900 |
# >> |          updated_at | 2025-08-11 15:56:41 +0900 |
# >> |---------------------+---------------------------|
# >> |------+-----------+---------+------------+-----------+-----+-----+------+--------------------+--------------------------+------------+---------------------------+---------------------------|
# >> | id   | league_id | user_id | result_key | start_pos | age | win | lose | ox                 | previous_runner_up_count | seat_count | created_at                | updated_at                |
# >> |------+-----------+---------+------------+-----------+-----+-----+------+--------------------+--------------------------+------------+---------------------------+---------------------------|
# >> |   33 |         2 |      33 | none       |         8 |  16 |   9 |    9 | xooxxooxxxooxxooox |                        0 |          1 | 2023-12-18 11:52:29 +0900 | 2023-12-18 11:52:29 +0900 |
# >> |   65 |         3 |      33 | 昇段       |        10 |  17 |  15 |    3 | xooooxooooooooooxo |                        0 |          2 | 2023-12-18 11:52:30 +0900 | 2023-12-18 11:52:30 +0900 |
# >> | 1240 |        39 |      33 | none       |        35 |  15 |  10 |    8 | ooxoxooxoxxooxxoox |                        0 |          1 | 2025-08-11 15:56:41 +0900 | 2025-08-11 15:56:41 +0900 |
# >> | 1257 |        40 |      33 | none       |        15 |  15 |  12 |    6 | xoxooxoxoxooooooxo |                        0 |          2 | 2025-08-11 15:56:43 +0900 | 2025-08-11 15:56:43 +0900 |
# >> | 1279 |        41 |      33 | none       |         4 |  16 |  10 |    8 | xoooxxxxoooxooxxoo |                        0 |          3 | 2025-08-11 15:56:44 +0900 | 2025-08-11 15:56:44 +0900 |
# >> |------+-----------+---------+------------+-----------+-----+-----+------+--------------------+--------------------------+------------+---------------------------+---------------------------|
# >> |----+------------+---------------------------+---------------------------|
# >> | id | generation | created_at                | updated_at                |
# >> |----+------------+---------------------------+---------------------------|
# >> |  2 |         66 | 2023-12-18 11:52:29 +0900 | 2023-12-18 11:52:29 +0900 |
# >> |  3 |         67 | 2023-12-18 11:52:30 +0900 | 2023-12-18 11:52:30 +0900 |
# >> | 39 |         63 | 2025-08-11 15:56:41 +0900 | 2025-08-11 15:56:41 +0900 |
# >> | 40 |         64 | 2025-08-11 15:56:42 +0900 | 2025-08-11 15:56:42 +0900 |
# >> | 41 |         65 | 2025-08-11 15:56:44 +0900 | 2025-08-11 15:56:44 +0900 |
# >> |----+------------+---------------------------+---------------------------|

#!/usr/bin/env ruby
require File.expand_path('../../config/environment', __FILE__)

module Fanta
  User.destroy_all
  Battle.destroy_all

  alice = User.create!
  bob = User.create!(race_key: :robot)
  alice.battle_with(bob)
end
# >> D, [2018-06-29T14:47:26.031996 #77871] DEBUG -- : No serializer found for resource: #<Fanta::User id: 5, name: "野良2号", current_battle_id: 52, online_at: "2018-06-29 05:38:29", fighting_at: "2018-06-29 05:38:29", matching_at: nil, lifetime_key: "lifetime_m5", platoon_key: "platoon_p1vs1", self_preset_key: "平手", oppo_preset_key: "平手", user_agent: "", race_key: "cpu", created_at: "2018-06-29 05:38:29", updated_at: "2018-06-29 05:38:29">
# >> I, [2018-06-29T14:47:26.032739 #77871]  INFO -- : Rendered ActiveModel::Serializer::CollectionSerializer with Fanta::User::ActiveRecord_Relation (0.64ms)
# >> D, [2018-06-29T14:47:26.051706 #77871] DEBUG -- : No serializer found for resource: #<Fanta::User id: 6, name: "野良3号", current_battle_id: nil, online_at: "2018-06-29 05:46:15", fighting_at: nil, matching_at: nil, lifetime_key: "lifetime_m5", platoon_key: "platoon_p2vs2", self_preset_key: "平手", oppo_preset_key: "平手", user_agent: "", race_key: nil, created_at: "2018-06-29 05:46:15", updated_at: "2018-06-29 05:46:15">
# >> I, [2018-06-29T14:47:26.052286 #77871]  INFO -- : Rendered ActiveModel::Serializer::CollectionSerializer with Fanta::User::ActiveRecord_Relation (0.5ms)
# >> D, [2018-06-29T14:47:26.066186 #77871] DEBUG -- : No serializer found for resource: #<Fanta::User id: 7, name: "野良4号", current_battle_id: nil, online_at: "2018-06-29 05:46:15", fighting_at: nil, matching_at: nil, lifetime_key: "lifetime_m5", platoon_key: "platoon_p2vs2", self_preset_key: "平手", oppo_preset_key: "平手", user_agent: "", race_key: nil, created_at: "2018-06-29 05:46:15", updated_at: "2018-06-29 05:46:15">
# >> I, [2018-06-29T14:47:26.066498 #77871]  INFO -- : Rendered ActiveModel::Serializer::CollectionSerializer with Fanta::User::ActiveRecord_Relation (0.24ms)
# >> D, [2018-06-29T14:47:26.078967 #77871] DEBUG -- : No serializer found for resource: #<Fanta::User id: 8, name: "弱いCPU", current_battle_id: 53, online_at: "2018-06-29 05:46:15", fighting_at: "2018-06-29 05:46:21", matching_at: nil, lifetime_key: "lifetime_m5", platoon_key: "platoon_p1vs1", self_preset_key: "平手", oppo_preset_key: "平手", user_agent: "", race_key: "cpu", created_at: "2018-06-29 05:46:15", updated_at: "2018-06-29 05:46:21">
# >> I, [2018-06-29T14:47:26.079152 #77871]  INFO -- : Rendered ActiveModel::Serializer::CollectionSerializer with Fanta::User::ActiveRecord_Relation (0.12ms)
# >> I, [2018-06-29T14:47:26.107706 #77871]  INFO -- : Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.1ms)
# >> D, [2018-06-29T14:47:26.139926 #77871] DEBUG -- : No serializer found for resource: #<Fanta::User id: 9, name: "野良1号", current_battle_id: nil, online_at: "2018-06-29 05:47:26", fighting_at: nil, matching_at: nil, lifetime_key: "lifetime_m5", platoon_key: "platoon_p1vs1", self_preset_key: "平手", oppo_preset_key: "平手", user_agent: "", race_key: nil, created_at: "2018-06-29 05:47:26", updated_at: "2018-06-29 05:47:26">
# >> I, [2018-06-29T14:47:26.140453 #77871]  INFO -- : Rendered ActiveModel::Serializer::CollectionSerializer with Fanta::User::ActiveRecord_Relation (0.47ms)
# >> D, [2018-06-29T14:47:26.149443 #77871] DEBUG -- : No serializer found for resource: #<Fanta::User id: 9, name: "野良1号", current_battle_id: nil, online_at: "2018-06-29 05:47:26", fighting_at: nil, matching_at: nil, lifetime_key: "lifetime_m5", platoon_key: "platoon_p1vs1", self_preset_key: "平手", oppo_preset_key: "平手", user_agent: "", race_key: nil, created_at: "2018-06-29 05:47:26", updated_at: "2018-06-29 05:47:26">
# >> I, [2018-06-29T14:47:26.150081 #77871]  INFO -- : Rendered ActiveModel::Serializer::CollectionSerializer with Fanta::User::ActiveRecord_Relation (0.58ms)
# >> D, [2018-06-29T14:47:26.191941 #77871] DEBUG -- : No serializer found for resource: #<Fanta::User id: 9, name: "野良1号", current_battle_id: nil, online_at: "2018-06-29 05:47:26", fighting_at: nil, matching_at: nil, lifetime_key: "lifetime_m5", platoon_key: "platoon_p1vs1", self_preset_key: "平手", oppo_preset_key: "平手", user_agent: "", race_key: nil, created_at: "2018-06-29 05:47:26", updated_at: "2018-06-29 05:47:26">
# >> I, [2018-06-29T14:47:26.192258 #77871]  INFO -- : Rendered ActiveModel::Serializer::CollectionSerializer with Fanta::User::ActiveRecord_Relation (0.26ms)
# >> D, [2018-06-29T14:47:26.197532 #77871] DEBUG -- : No serializer found for resource: #<Fanta::User id: 9, name: "野良1号", current_battle_id: nil, online_at: "2018-06-29 05:47:26", fighting_at: nil, matching_at: nil, lifetime_key: "lifetime_m5", platoon_key: "platoon_p1vs1", self_preset_key: "平手", oppo_preset_key: "平手", user_agent: "", race_key: nil, created_at: "2018-06-29 05:47:26", updated_at: "2018-06-29 05:47:26">
# >> I, [2018-06-29T14:47:26.197828 #77871]  INFO -- : Rendered ActiveModel::Serializer::CollectionSerializer with Fanta::User::ActiveRecord_Relation (0.24ms)
# >> D, [2018-06-29T14:47:26.246535 #77871] DEBUG -- : No serializer found for resource: #<Fanta::User id: 9, name: "野良1号", current_battle_id: nil, online_at: "2018-06-29 05:47:26", fighting_at: nil, matching_at: nil, lifetime_key: "lifetime_m5", platoon_key: "platoon_p1vs1", self_preset_key: "平手", oppo_preset_key: "平手", user_agent: "", race_key: nil, created_at: "2018-06-29 05:47:26", updated_at: "2018-06-29 05:47:26">
# >> I, [2018-06-29T14:47:26.246859 #77871]  INFO -- : Rendered ActiveModel::Serializer::CollectionSerializer with Fanta::User::ActiveRecord_Relation (0.26ms)
# >> D, [2018-06-29T14:47:26.255387 #77871] DEBUG -- : No serializer found for resource: #<Fanta::User id: 9, name: "野良1号", current_battle_id: nil, online_at: "2018-06-29 05:47:26", fighting_at: nil, matching_at: nil, lifetime_key: "lifetime_m5", platoon_key: "platoon_p1vs1", self_preset_key: "平手", oppo_preset_key: "平手", user_agent: "", race_key: nil, created_at: "2018-06-29 05:47:26", updated_at: "2018-06-29 05:47:26">
# >> I, [2018-06-29T14:47:26.255720 #77871]  INFO -- : Rendered ActiveModel::Serializer::CollectionSerializer with Fanta::User::ActiveRecord_Relation (0.27ms)
# >> D, [2018-06-29T14:47:26.269334 #77871] DEBUG -- : No serializer found for resource: #<Fanta::User id: 9, name: "野良1号", current_battle_id: nil, online_at: "2018-06-29 05:47:26", fighting_at: nil, matching_at: nil, lifetime_key: "lifetime_m5", platoon_key: "platoon_p1vs1", self_preset_key: "平手", oppo_preset_key: "平手", user_agent: "", race_key: nil, created_at: "2018-06-29 05:47:26", updated_at: "2018-06-29 05:47:26">
# >> I, [2018-06-29T14:47:26.269651 #77871]  INFO -- : Rendered ActiveModel::Serializer::CollectionSerializer with Fanta::User::ActiveRecord_Relation (0.25ms)
# >> I, [2018-06-29T14:47:28.213143 #77871]  INFO -- : Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1901.34ms)

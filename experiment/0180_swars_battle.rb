#!/usr/bin/env ruby
require File.expand_path('../../config/environment', __FILE__)

# Swars::Battle.user_import(user_key: "devuser1")

# Swars::Battle.destroy_all
# Swars::Battle.destroy_all
# 
# Swars::Battle.import(:remake)

tp Swars::Battle.all.last(10).collect(&:attributes)

# tp Swars::Battle
# >> |--------+------------------------------------------------+---------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+-------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------+-------------------+---------------------------+---------------------------+------------+------------+---------------+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------+------------------+-----------------+--------------------+---------------+----------------+-----------------+--------------------|
# >> | id     | key                                            | battled_at                | rule_key | csa_seq                                                                                                                                                                                                                                                             | final_key | win_user_id | turn_max | meta_info                                                                                                                                                                                                                                                                                                                       | last_accessd_at           | access_logs_count | created_at                | updated_at                | preset_key | start_turn | critical_turn | saturn_key | sfen_body                                                                                                                                                                                                                                                           | image_turn | defense_tag_list | attack_tag_list | technique_tag_list | note_tag_list | other_tag_list | secret_tag_list | kifu_body_for_test |
# >> |--------+------------------------------------------------+---------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+-------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------+-------------------+---------------------------+---------------------------+------------+------------+---------------+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------+------------------+-----------------+--------------------+---------------+----------------+-----------------+--------------------|
# >> | 179078 | sankeiSan-AHIRU_MAN_-20190922_211419           | 2019-09-22 21:14:19 +0900 | ten_sec  | [["+2726FU", 3598], ["-1314FU", 3599], ["+3948GI", 3597], ["-8384FU", 3597], ["+9796FU", 3595], ["-8485FU", 3594], ["+6978KI", 3585], ["-8586FU", 3592], ["+8786FU", 3584], ["-8286HI", 3591], ["+0087FU", 3583], ["-8684HI", 3590], ["+7968GI", 3580], ["-3142G... | TORYO     |       32341 |       40 | {:header=>{"先手"=>"sankeiSan 1級", "後手"=>"AHIRU_MAN_ 四段", "開始日時"=>"2019/09/22 21:14:19", "棋戦"=>"将棋ウォーズ(1手10秒)", "場所"=>"http://kif-pona.heroz.jp/games/sankeiSan-AHIRU_MAN_-20190922_211419", "持ち時間"=>"00:00+10", "先手の囲い"=>"中住まい", "後手の囲い"=>"アヒル囲い", "後手の戦型"=>"アヒル戦...      | 2019-09-24 08:22:56 +0900 |                 0 | 2019-09-24 08:22:56 +0900 | 2019-09-24 08:22:56 +0900 | 平手       |            |             8 | public     | position startpos moves 2g2f 1c1d 3i4h 8c8d 9g9f 8d8e 6i7h 8e8f 8g8f 8b8f P*8g 8f8d 7i6h 3a4b 2f2e 7a6b 5i5h 4a3a 4i3i 6a7a 2h2f 5a5b 1g1f 2b1c 9f9e 1c3e 2f5f 3e4d 8h9g 8d8e 3i3h 8e2e 5f8f 2e2i+ 3h3i 2i1i 8f8c+ L*8b 8c8b 7a8b                                   |            |                  |                 |                    |               |                |                 |                    |
# >> | 179079 | minemine12345-AHIRU_MAN_-20190922_210325       | 2019-09-22 21:03:25 +0900 | ten_sec  | [["+2726FU", 3590], ["-1314FU", 3599], ["+3948GI", 3584], ["-8384FU", 3596], ["+7776FU", 3580], ["-8485FU", 3595], ["+8877KA", 3579], ["-8284HI", 3592], ["+2625FU", 3574], ["-2213KA", 3590], ["+7968GI", 3569], ["-8474HI", 3589], ["+2826HI", 3566], ["-3142G... | TORYO     |       32341 |       92 | {:header=>{"先手"=>"minemine12345 二段", "後手"=>"AHIRU_MAN_ 四段", "開始日時"=>"2019/09/22 21:03:25", "棋戦"=>"将棋ウォーズ(1手10秒)", "場所"=>"http://kif-pona.heroz.jp/games/minemine12345-AHIRU_MAN_-20190922_210325", "持ち時間"=>"00:00+10", "後手の囲い"=>"アヒル囲い", "後手の戦型"=>"目くらまし戦法", "後手...         | 2019-09-24 08:22:57 +0900 |                 0 | 2019-09-24 08:22:57 +0900 | 2019-09-24 08:22:57 +0900 | 平手       |            |            19 | public     | position startpos moves 2g2f 1c1d 3i4h 8c8d 7g7f 8d8e 8h7g 8b8d 2f2e 2b1c 7i6h 8d7d 2h2f 3a4b 6i7h 7a6b 1g1f 6a7a 4g4f 7d7f 4h4g 7f7d 4i3h 4a3a 5i5h 5a5b 6g6f 3c3d 3g3f 3d3e 2i3g 3e3f 4g3f P*3e 3f4g 2a3c 2f2i 7d3d 2i2f 7c7d 6h6g 8a7c 5h6h 9c9d 9g9f 2c2d 2e... |            |                  |                 |                    |               |                |                 |                    |
# >> | 179080 | AHIRU_MAN_-pokotakuncha-20190922_205733        | 2019-09-22 20:57:33 +0900 | ten_sec  | [["+2726FU", 3599], ["-8384FU", 3598], ["+9796FU", 3597], ["-3334FU", 3595], ["+2625FU", 3596], ["-2233KA", 3594], ["+8897KA", 3595], ["-6152KI", 3590], ["+2826HI", 3593], ["-8485FU", 3588], ["+2636HI", 3591], ["-8284HI", 3585], ["+7968GI", 3587], ["-7172G... | TORYO     |       32341 |       57 | {:header=>{"先手"=>"AHIRU_MAN_ 四段", "後手"=>"pokotakuncha 1級", "開始日時"=>"2019/09/22 20:57:33", "棋戦"=>"将棋ウォーズ(1手10秒)", "場所"=>"http://kif-pona.heroz.jp/games/AHIRU_MAN_-pokotakuncha-20190922_205733", "持ち時間"=>"00:00+10", "先手の囲い"=>"アヒル囲い", "後手の囲い"=>"カニ囲い", "先手の備考"=...          | 2019-09-24 08:22:57 +0900 |                 0 | 2019-09-24 08:22:57 +0900 | 2019-09-24 08:22:57 +0900 | 平手       |            |            32 | public     | position startpos moves 2g2f 8c8d 9g9f 3c3d 2f2e 2b3c 8h9g 6a5b 2h2f 8d8e 2f3f 8b8d 7i6h 7a7b 3i4h 9c9d 4i3i 4a3b 6i7i 3a4b 5i5h 5a4a 9g7e 8d7d 3f7f 4c4d 3g3f 4b4c 2i3g 7b8c 8i9g 8c8d 7e8d 7d8d 7f7e 9d9e 7e8e 8d8e 9g8e 4a3a R*7a 3a2b 7a8a+ 9e9f 8a9a 1c1d 1... |            |                  |                 |                    |               |                |                 |                    |
# >> | 179081 | kouryuu18shou-AHIRU_MAN_-20190922_204649       | 2019-09-22 20:46:49 +0900 | ten_sec  | [["+2726FU", 3598], ["-1314FU", 3598], ["+1716FU", 3596], ["-8384FU", 3597], ["+2625FU", 3590], ["-8485FU", 3595], ["+6978KI", 3588], ["-8586FU", 3594], ["+8786FU", 3587], ["-8286HI", 3593], ["+0087FU", 3584], ["-8684HI", 3591], ["+3938GI", 3581], ["-3142G... | TORYO     |       32341 |       98 | {:header=>{"先手"=>"kouryuu18shou 初段", "後手"=>"AHIRU_MAN_ 四段", "開始日時"=>"2019/09/22 20:46:49", "棋戦"=>"将棋ウォーズ(1手10秒)", "場所"=>"http://kif-pona.heroz.jp/games/kouryuu18shou-AHIRU_MAN_-20190922_204649", "持ち時間"=>"00:00+10", "先手の囲い"=>"いちご囲い", "後手の囲い"=>"アヒル囲い", "先手の備...         | 2019-09-24 08:22:58 +0900 |                 0 | 2019-09-24 08:22:58 +0900 | 2019-09-24 08:22:58 +0900 | 平手       |            |             8 | public     | position startpos moves 2g2f 1c1d 1g1f 8c8d 2f2e 8d8e 6i7h 8e8f 8g8f 8b8f P*8g 8f8d 3i3h 3a4b 5i6h 2b1c 4i5h 8d5d 9g9f 1d1e 1f1e 7c7d 2h2f 8a7c 8h9g 3c3d 4g4f 1c3e 2f3f 2a3c 3h4g 7a6b 9g8h 7d7e 8h9g 5d7d 8g8f 9c9d 9g8h 7d8d 7h8g 8d7d 5h4h 4a3a 6h5h 6a7a 4h... |            |                  |                 |                    |               |                |                 |                    |
# >> | 179082 | Kenshiro999-shindannin-20190924_082414         | 2019-09-24 08:24:14 +0900 | ten_min  | [["+7776FU", 598], ["-3334FU", 600], ["+2726FU", 596], ["-4344FU", 599], ["+3948GI", 593], ["-3142GI", 598], ["+5968OU", 592], ["-4243GI", 597], ["+8786FU", 590], ["-2233KA", 595], ["+7978GI", 589], ["-9394FU", 594], ["+9796FU", 587], ["-8232HI", 593], ["+... | CHECKMATE |       71132 |      123 | {:header=>{"先手"=>"Kenshiro999 初段", "後手"=>"shindannin 1級", "開始日時"=>"2019/09/24 08:24:14", "棋戦"=>"将棋ウォーズ(10分切れ負け)", "場所"=>"http://kif-pona.heroz.jp/games/Kenshiro999-shindannin-20190924_082414", "持ち時間"=>"00:10+00", "後手の囲い"=>"高美濃囲い, 銀美濃", "先手の戦型"=>"腰掛け銀, 右四間飛...     | 2019-09-24 08:57:21 +0900 |                 0 | 2019-09-24 08:57:21 +0900 | 2019-09-24 08:57:21 +0900 | 平手       |            |            41 | public     | position startpos moves 7g7f 3c3d 2g2f 4c4d 3i4h 3a4b 5i6h 4b4c 8g8f 2b3c 7i7h 9c9d 9g9f 8b3b 7h8g 7a7b 6h7h 5a6b 8h6f 6b7a 7h8h 7a8b 6i7h 4a5b 4i5h 6c6d 4g4f 5b6c 4h4g 1c1d 5h6h 7c7d 4g5f 3b4b 3g3f 4c5d 2h4h 8a7c 2i3g 1d1e 4f4e 4d4e 5f4e 3c6f 6g6f 5d4e 4h... |            |                  |                 |                    |               |                |                 |                    |
# >> | 179083 | hakuba1959-Terruce-20190924_085415             | 2019-09-24 08:54:15 +0900 | ten_min  | [["+2726FU", 599], ["-3334FU", 599], ["+2625FU", 598], ["-2233KA", 598], ["+7776FU", 597], ["-4344FU", 597], ["+3948GI", 595], ["-8232HI", 596], ["+4958KI", 594], ["-3142GI", 594], ["+5968OU", 592], ["-5162OU", 593], ["+6878OU", 592], ["-7172GI", 592], ["+... | TORYO     |       18428 |       76 | {:header=>{"先手"=>"hakuba1959 二段", "後手"=>"Terruce 1級", "開始日時"=>"2019/09/24 08:54:15", "棋戦"=>"将棋ウォーズ(10分切れ負け)", "場所"=>"http://kif-pona.heroz.jp/games/hakuba1959-Terruce-20190924_085415", "持ち時間"=>"00:10+00", "先手の囲い"=>"舟囲い, 天守閣美濃", "後手の囲い"=>"高美濃囲い, 銀美濃", "先手の戦... | 2019-09-24 09:05:37 +0900 |                 0 | 2019-09-24 09:05:39 +0900 | 2019-09-24 09:05:39 +0900 | 平手       |            |            34 | public     | position startpos moves 2g2f 3c3d 2f2e 2b3c 7g7f 4c4d 3i4h 8b3b 4i5h 3a4b 5i6h 5a6b 6h7h 7a7b 9g9f 9c9d 1g1f 4b4c 8g8f 6b7a 7h8g 4a5b 7i7h 6c6d 5g5f 7c7d 4h5g 5b6c 3g3f 7a8b 5g4f 5c5d 3f3e 3c4b 3e3d 3b3d P*3e 3d3b 2h3h 4b5c 3h3f 8a7c 2i3g 8c8d 3f2f 5c4b 5f... |            |                  |                 |                    |               |                |                 |                    |
# >> | 179084 | orange1231-Terruce-20190924_075824             | 2019-09-24 07:58:24 +0900 | ten_min  | [["+7776FU", 600], ["-3334FU", 599], ["+7675FU", 599], ["-8242HI", 597], ["+5968OU", 589], ["-5162OU", 576], ["+4958KI", 587], ["-6272OU", 566], ["+9796FU", 584], ["-9394FU", 564], ["+2726FU", 583], ["-4344FU", 554], ["+2625FU", 581], ["-2233KA", 553], ["+... | CHECKMATE |       18428 |       80 | {:header=>{"先手"=>"orange1231 2級", "後手"=>"Terruce 1級", "開始日時"=>"2019/09/24 07:58:24", "棋戦"=>"将棋ウォーズ(10分切れ負け)", "場所"=>"http://kif-pona.heroz.jp/games/orange1231-Terruce-20190924_075824", "持ち時間"=>"00:10+00", "先手の囲い"=>"舟囲い", "後手の囲い"=>"美濃囲い", "後手の戦型"=>"４→３戦法", ...     | 2019-09-24 09:05:40 +0900 |                 0 | 2019-09-24 09:05:40 +0900 | 2019-09-24 09:05:40 +0900 | 平手       |            |            31 | public     | position startpos moves 7g7f 3c3d 7f7e 8b4b 5i6h 5a6b 4i5h 6b7b 9g9f 9c9d 2g2f 4c4d 2f2e 2b3c 3i4h 3a3b 1g1f 7b8b 6h7h 7a7b 6i6h 4a5b 2h2f 3b4c 5g5f 5c5d 4h5g 4b3b 5g4f 3c4b 5f5e 5d5e 4f5e 5b5c P*5d 5c5d 5e5d 4c5d 8h4d 4b3c 4d3c+ 2a3c 7e7d 7c7d B*5c B*6b 5... |            |                  |                 |                    |               |                |                 |                    |
# >> | 179085 | Nomimono_Showgi-hk9978-20190924_083010         | 2019-09-24 08:30:10 +0900 | ten_sec  | [["+7776FU", 3598], ["-3334FU", 3599], ["+7675FU", 3595], ["-5354FU", 3597], ["+2878HI", 3593], ["-5142OU", 3594], ["+5948OU", 3585], ["-2288UM", 3588], ["+7988GI", 3584], ["-0045KA", 3586], ["+3938GI", 3579], ["-4567UM", 3583], ["+6979KI", 3576], ["-6745U... | TORYO     |       66547 |       78 | {:header=>{"先手"=>"Nomimono_Showgi 1級", "後手"=>"hk9978 初段", "開始日時"=>"2019/09/24 08:30:10", "棋戦"=>"将棋ウォーズ(1手10秒)", "場所"=>"http://kif-pona.heroz.jp/games/Nomimono_Showgi-hk9978-20190924_083010", "持ち時間"=>"00:00+10", "後手の囲い"=>"箱入り娘", "先手の戦型"=>"早石田", "後手の戦型"=>"一手...          | 2019-09-24 10:09:27 +0900 |                 0 | 2019-09-24 10:09:30 +0900 | 2019-09-24 10:09:30 +0900 | 平手       |            |             7 | public     | position startpos moves 7g7f 3c3d 7f7e 5c5d 2h7h 5a4b 5i4h 2b8h+ 7i8h B*4e 3i3h 4e6g+ 6i7i 6g4e 7e7d 7a6b 7d7c+ 6b7c P*7d 7c6d B*7c 8a7c 7d7c+ 6d7c 7h7c+ 8b9b S*8a 9b5b N*7e 5d5e 7e6c+ 5e5f 6c5b 6a5b 5g5f B*8d 7c8d 8c8d B*7e 4b3b R*8b P*5a 8a7b+ P*6g 7e6f ... |            |                  |                 |                    |               |                |                 |                    |
# >> | 179086 | kazuya1968-Nomimono_Showgi-20190924_082730     | 2019-09-24 08:27:30 +0900 | ten_sec  | [["+2726FU", 3598], ["-3334FU", 3599], ["+2625FU", 3598], ["-2233KA", 3598], ["+3948GI", 3597], ["-8242HI", 3588], ["+7776FU", 3596], ["-5162OU", 3586], ["+5968OU", 3595], ["-6272OU", 3585], ["+4958KI", 3594], ["-7282OU", 3584], ["+8833UM", 3592], ["-2133K... | TORYO     |       27623 |       45 | {:header=>{"先手"=>"kazuya1968 初段", "後手"=>"Nomimono_Showgi 1級", "開始日時"=>"2019/09/24 08:27:30", "棋戦"=>"将棋ウォーズ(1手10秒)", "場所"=>"http://kif-pona.heroz.jp/games/kazuya1968-Nomimono_Showgi-20190924_082730", "持ち時間"=>"00:00+10", "先手の囲い"=>"舟囲い", "後手の囲い"=>"片美濃囲い", "先手...              | 2019-09-24 10:09:33 +0900 |                 0 | 2019-09-24 10:09:33 +0900 | 2019-09-24 10:09:33 +0900 | 平手       |            |            12 | public     | position startpos moves 2g2f 3c3d 2f2e 2b3c 3i4h 8b4b 7g7f 5a6b 5i6h 6b7b 4i5h 7b8b 8h3c+ 2a3c 2e2d 2c2d 2h2d 4b2b P*2c 2b1b B*6f 4a3b 2d3d 3a4b 3d2d 7a7b 6h7h P*2e 1g1f B*3e 2d3d 3e4d 6f4d 4c4d B*2a 3b4c 2a4c+ 4b4c 3d3c+ 4c3b 3c3f 3b2c 7i8h 1b3b G*3c         |            |                  |                 |                    |               |                |                 |                    |
# >> | 179087 | Nomimono_Showgi-suitekisekisen-20190924_082304 | 2019-09-24 08:23:04 +0900 | ten_sec  | [["+7776FU", 3597], ["-3334FU", 3598], ["+3948GI", 3596], ["-8384FU", 3597], ["+5756FU", 3593], ["-8485FU", 3596], ["+4857GI", 3590], ["-4132KI", 3595], ["+6978KI", 3588], ["-8586FU", 3594], ["+8786FU", 3587], ["-8286HI", 3593], ["+8822UM", 3578], ["-3122G... | TIMEOUT   |       19355 |       72 | {:header=>{"先手"=>"Nomimono_Showgi 1級", "後手"=>"suitekisekisen 二段", "開始日時"=>"2019/09/24 08:23:04", "棋戦"=>"将棋ウォーズ(1手10秒)", "場所"=>"http://kif-pona.heroz.jp/games/Nomimono_Showgi-suitekisekisen-20190924_082304", "持ち時間"=>"00:00+10", "先手の囲い"=>"菊水矢倉", "後手の囲い"=>"カブ...                  | 2019-09-24 10:09:34 +0900 |                 0 | 2019-09-24 10:09:34 +0900 | 2019-09-24 10:09:34 +0900 | 平手       |            |            10 | public     | position startpos moves 7g7f 3c3d 3i4h 8c8d 5g5f 8d8e 4h5g 4a3b 6i7h 8e8f 8g8f 8b8f 8h2b+ 3a2b 7i8h 8f8b P*8g 7a7b 4i5h 2b3c 6g6f 7b8c 5h6g 8c7d 5i6i 5a4b 5g4f 6c6d 6i7i 8b6b 8i7g 9c9d 7i8i 6a5b 2h5h 8a9c 8g8f P*8e 8f8e 9c8e 7g8e 7d8e 5f5e 8e7d 5e5d 5c5d 5... |            |                  |                 |                    |               |                |                 |                    |
# >> |--------+------------------------------------------------+---------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+-------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------+-------------------+---------------------------+---------------------------+------------+------------+---------------+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------+------------------+-----------------+--------------------+---------------+----------------+-----------------+--------------------|

#!/usr/bin/env ruby
require File.expand_path('../../config/environment', __FILE__)

XyRecord.destroy_all
XyRuleInfo.rebuild

# XyRecord.create!(xy_rule_key: "xy_rule1", entry_name: "(name1)", spent_sec: 1.123, x_count: 0)
# XyRecord.create!(xy_rule_key: "xy_rule1", entry_name: "(name1)", spent_sec: 2.123, x_count: 0)
# XyRecord.create!(xy_rule_key: "xy_rule1", entry_name: "(name1)", spent_sec: 3.123, x_count: 0)

# XyRecord.create!(xy_rule_key: "xy_rule1", entry_name: "(name1)", spent_sec: 0.785, x_count: 0)
# XyRecord.create!(xy_rule_key: "xy_rule1", entry_name: "(name1)", spent_sec: 0.784, x_count: 0)
# XyRecord.create!(xy_rule_key: "xy_rule1", entry_name: "(name2)", spent_sec: 0.783, x_count: 0)
# XyRecord.create!(xy_rule_key: "xy_rule1", entry_name: "(name2)", spent_sec: 0.782, x_count: 0)

100.times do
  XyRecord.create!(xy_rule_key: "xy_rule1", entry_name: "(name#{rand(3)})", spent_sec: rand(0...1.0), x_count: 0)
end

# tp XyRuleInfo[:xy_rule1].xy_records

# tp XyRuleInfo[:xy_rule1].xy_records


# tp XyRecord.all.collect { |e| {id: e.id, page: e.ranking_page } }
# tp XyRuleInfo.rule_list
# tp XyRuleInfo[:xy_rule1].xy_records
tp XyRecord

# >> |-----+-------------------+------------+---------+-------------+---------+-----------+---------------------------+---------------------------|
# >> | id  | colosseum_user_id | entry_name | summary | xy_rule_key | x_count | spent_sec | created_at                | updated_at                |
# >> |-----+-------------------+------------+---------+-------------+---------+-----------+---------------------------+---------------------------|
# >> |  55 |                   | (name2)    |         | xy_rule1    |       0 |     0.416 | 2019-09-14 13:39:36 +0900 | 2019-09-14 13:39:36 +0900 |
# >> |  56 |                   | (name0)    |         | xy_rule1    |       0 |     0.186 | 2019-09-14 13:39:36 +0900 | 2019-09-14 13:39:36 +0900 |
# >> |  57 |                   | (name1)    |         | xy_rule1    |       0 |     0.196 | 2019-09-14 13:39:36 +0900 | 2019-09-14 13:39:36 +0900 |
# >> |  58 |                   | (name2)    |         | xy_rule1    |       0 |     0.442 | 2019-09-14 13:39:36 +0900 | 2019-09-14 13:39:36 +0900 |
# >> |  59 |                   | (name1)    |         | xy_rule1    |       0 |     0.171 | 2019-09-14 13:39:36 +0900 | 2019-09-14 13:39:36 +0900 |
# >> |  60 |                   | (name1)    |         | xy_rule1    |       0 |     0.691 | 2019-09-14 13:39:36 +0900 | 2019-09-14 13:39:36 +0900 |
# >> |  61 |                   | (name1)    |         | xy_rule1    |       0 |     0.101 | 2019-09-14 13:39:36 +0900 | 2019-09-14 13:39:36 +0900 |
# >> |  62 |                   | (name0)    |         | xy_rule1    |       0 |     0.431 | 2019-09-14 13:39:36 +0900 | 2019-09-14 13:39:36 +0900 |
# >> |  63 |                   | (name1)    |         | xy_rule1    |       0 |     0.099 | 2019-09-14 13:39:36 +0900 | 2019-09-14 13:39:36 +0900 |
# >> |  64 |                   | (name0)    |         | xy_rule1    |       0 |     0.194 | 2019-09-14 13:39:36 +0900 | 2019-09-14 13:39:36 +0900 |
# >> |  65 |                   | (name1)    |         | xy_rule1    |       0 |     0.756 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  66 |                   | (name2)    |         | xy_rule1    |       0 |     0.559 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  67 |                   | (name0)    |         | xy_rule1    |       0 |     0.784 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  68 |                   | (name0)    |         | xy_rule1    |       0 |     0.649 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  69 |                   | (name2)    |         | xy_rule1    |       0 |     0.147 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  70 |                   | (name0)    |         | xy_rule1    |       0 |     0.985 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  71 |                   | (name0)    |         | xy_rule1    |       0 |     0.995 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  72 |                   | (name0)    |         | xy_rule1    |       0 |     0.005 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  73 |                   | (name2)    |         | xy_rule1    |       0 |      0.73 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  74 |                   | (name1)    |         | xy_rule1    |       0 |     0.914 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  75 |                   | (name0)    |         | xy_rule1    |       0 |     0.293 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  76 |                   | (name0)    |         | xy_rule1    |       0 |     0.799 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  77 |                   | (name1)    |         | xy_rule1    |       0 |      0.46 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  78 |                   | (name1)    |         | xy_rule1    |       0 |     0.056 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  79 |                   | (name0)    |         | xy_rule1    |       0 |     0.332 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  80 |                   | (name0)    |         | xy_rule1    |       0 |     0.223 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  81 |                   | (name1)    |         | xy_rule1    |       0 |     0.063 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  82 |                   | (name2)    |         | xy_rule1    |       0 |     0.777 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  83 |                   | (name2)    |         | xy_rule1    |       0 |     0.967 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  84 |                   | (name2)    |         | xy_rule1    |       0 |     0.934 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  85 |                   | (name0)    |         | xy_rule1    |       0 |     0.214 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  86 |                   | (name1)    |         | xy_rule1    |       0 |     0.737 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  87 |                   | (name0)    |         | xy_rule1    |       0 |     0.525 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  88 |                   | (name1)    |         | xy_rule1    |       0 |     0.604 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  89 |                   | (name1)    |         | xy_rule1    |       0 |     0.128 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  90 |                   | (name2)    |         | xy_rule1    |       0 |     0.219 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  91 |                   | (name2)    |         | xy_rule1    |       0 |     0.246 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  92 |                   | (name0)    |         | xy_rule1    |       0 |     0.308 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  93 |                   | (name0)    |         | xy_rule1    |       0 |     0.972 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  94 |                   | (name2)    |         | xy_rule1    |       0 |     0.039 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  95 |                   | (name1)    |         | xy_rule1    |       0 |      0.75 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  96 |                   | (name2)    |         | xy_rule1    |       0 |     0.834 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  97 |                   | (name2)    |         | xy_rule1    |       0 |     0.225 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  98 |                   | (name1)    |         | xy_rule1    |       0 |     0.573 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |  99 |                   | (name1)    |         | xy_rule1    |       0 |     0.257 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 100 |                   | (name1)    |         | xy_rule1    |       0 |     0.245 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 101 |                   | (name0)    |         | xy_rule1    |       0 |     0.294 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 102 |                   | (name1)    |         | xy_rule1    |       0 |     0.208 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 103 |                   | (name1)    |         | xy_rule1    |       0 |     0.558 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 104 |                   | (name2)    |         | xy_rule1    |       0 |     0.291 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 105 |                   | (name2)    |         | xy_rule1    |       0 |     0.439 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 106 |                   | (name2)    |         | xy_rule1    |       0 |      0.99 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 107 |                   | (name1)    |         | xy_rule1    |       0 |     0.561 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 108 |                   | (name0)    |         | xy_rule1    |       0 |     0.084 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 109 |                   | (name1)    |         | xy_rule1    |       0 |     0.968 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 110 |                   | (name0)    |         | xy_rule1    |       0 |     0.202 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 111 |                   | (name0)    |         | xy_rule1    |       0 |      0.76 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 112 |                   | (name2)    |         | xy_rule1    |       0 |     0.306 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 113 |                   | (name0)    |         | xy_rule1    |       0 |     0.696 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 114 |                   | (name0)    |         | xy_rule1    |       0 |     0.007 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 115 |                   | (name1)    |         | xy_rule1    |       0 |     0.012 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 116 |                   | (name2)    |         | xy_rule1    |       0 |     0.073 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 117 |                   | (name2)    |         | xy_rule1    |       0 |     0.946 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 118 |                   | (name1)    |         | xy_rule1    |       0 |     0.041 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 119 |                   | (name0)    |         | xy_rule1    |       0 |     0.767 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 120 |                   | (name0)    |         | xy_rule1    |       0 |     0.892 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 121 |                   | (name0)    |         | xy_rule1    |       0 |     0.139 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 122 |                   | (name1)    |         | xy_rule1    |       0 |     0.057 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 123 |                   | (name1)    |         | xy_rule1    |       0 |     0.962 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 124 |                   | (name0)    |         | xy_rule1    |       0 |     0.232 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 125 |                   | (name0)    |         | xy_rule1    |       0 |     0.195 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 126 |                   | (name0)    |         | xy_rule1    |       0 |     0.654 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 127 |                   | (name0)    |         | xy_rule1    |       0 |     0.913 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 128 |                   | (name2)    |         | xy_rule1    |       0 |     0.855 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 129 |                   | (name0)    |         | xy_rule1    |       0 |      0.07 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 130 |                   | (name1)    |         | xy_rule1    |       0 |     0.645 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 131 |                   | (name0)    |         | xy_rule1    |       0 |     0.215 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 132 |                   | (name1)    |         | xy_rule1    |       0 |     0.795 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 133 |                   | (name0)    |         | xy_rule1    |       0 |     0.486 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 134 |                   | (name1)    |         | xy_rule1    |       0 |      0.66 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 135 |                   | (name1)    |         | xy_rule1    |       0 |     0.363 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 136 |                   | (name2)    |         | xy_rule1    |       0 |     0.678 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 137 |                   | (name0)    |         | xy_rule1    |       0 |     0.624 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 138 |                   | (name1)    |         | xy_rule1    |       0 |     0.806 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 139 |                   | (name2)    |         | xy_rule1    |       0 |     0.507 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 140 |                   | (name0)    |         | xy_rule1    |       0 |     0.109 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 141 |                   | (name0)    |         | xy_rule1    |       0 |      0.41 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 142 |                   | (name2)    |         | xy_rule1    |       0 |     0.245 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 143 |                   | (name1)    |         | xy_rule1    |       0 |     0.063 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 144 |                   | (name0)    |         | xy_rule1    |       0 |     0.979 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 145 |                   | (name1)    |         | xy_rule1    |       0 |     0.302 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 146 |                   | (name1)    |         | xy_rule1    |       0 |     0.132 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 147 |                   | (name2)    |         | xy_rule1    |       0 |     0.914 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 148 |                   | (name2)    |         | xy_rule1    |       0 |     0.571 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 149 |                   | (name1)    |         | xy_rule1    |       0 |     0.602 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 150 |                   | (name0)    |         | xy_rule1    |       0 |     0.642 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 151 |                   | (name1)    |         | xy_rule1    |       0 |     0.741 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 152 |                   | (name0)    |         | xy_rule1    |       0 |     0.173 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 153 |                   | (name2)    |         | xy_rule1    |       0 |     0.172 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> | 154 |                   | (name1)    |         | xy_rule1    |       0 |     0.257 | 2019-09-14 13:39:37 +0900 | 2019-09-14 13:39:37 +0900 |
# >> |-----+-------------------+------------+---------+-------------+---------+-----------+---------------------------+---------------------------|

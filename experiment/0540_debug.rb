#!/usr/bin/env ruby
require File.expand_path('../../config/environment', __FILE__)

ENV["RUN_REMOTE"] = "1"

Swars::Battle.destroy_all
user = Swars::Battle.basic_import(user_key: "kinakom0chi")

# user = Swars::User.find_by!(user_key: "kinakom0chi")

Swars::Battle.reorder(:id).each.with_index do |e, i|
  if i == 0
    next
  end
  if i == 19
    next
  end
  e.destroy!
end

tp Swars::Battle.all
# >> |-----+-----------------------------------------+---------------------------+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+-------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------+-------------------+---------------------------+---------------------------+------------+------------------+-----------------+--------------------+---------------+----------------+-----------------|
# >> | id  | key                                     | battled_at                | rule_key  | csa_seq                                                                                                                                                                                                                                                             | final_key | win_user_id | turn_max | meta_info                                                                                                                                                                                                                                                                                                                  | last_accessd_at           | access_logs_count | created_at                | updated_at                | preset_key | defense_tag_list | attack_tag_list | technique_tag_list | note_tag_list | other_tag_list | secret_tag_list |
# >> |-----+-----------------------------------------+---------------------------+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+-------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------+-------------------+---------------------------+---------------------------+------------+------------------+-----------------+--------------------+---------------+----------------+-----------------|
# >> | 211 | kinakom0chi-tomozou0907-20190327_232600 | 2019-03-27 23:26:00 +0900 | ten_min   | [["+7776FU", 598], ["-3334FU", 599], ["+2726FU", 593], ["-8242HI", 596], ["+3948GI", 589], ["-5162OU", 594], ["+4746FU", 587], ["-6272OU", 591], ["+4847GI", 586], ["-7282OU", 589], ["+5968OU", 582], ["-2233KA", 587], ["+6878OU", 580], ["-4344FU", 586], ["+... | CHECKMATE |          13 |      104 | {:header=>{"先手"=>"kinakom0chi 1級", "後手"=>"tomozou0907 2級", "開始日時"=>"2019/03/27 23:26:00", "棋戦"=>"将棋ウォーズ(10分切れ負け)", "場所"=>"http://kif-pona.heroz.jp/games/kinakom0chi-tomozou0907-20190327_232600", "持ち時間"=>"00:10+00", "先手の囲い"=>"天守閣美濃, 端玉銀冠, ミレニアム囲い", "後手の囲い"=... | 2019-03-28 19:22:25 +0900 |                 0 | 2019-03-28 19:22:25 +0900 | 2019-03-28 19:22:25 +0900 | 平手       |                  |                 |                    |               |                |                 |
# >> | 230 | kinakom0chi-0208action-20190324_212443  | 2019-03-24 21:24:43 +0900 | three_min | [["+7968GI", 179], ["-3334FU", 180], ["+5756FU", 178], ["-7374FU", 179], ["+6857GI", 177], ["-7475FU", 179], ["+5766GI", 176], ["-8272HI", 178], ["+2878HI", 173], ["-7182GI", 175], ["+5948OU", 172], ["-5142OU", 174], ["+4838OU", 171], ["-4232OU", 173], ["+... | TIMEOUT   |          32 |      102 | {:header=>{"先手"=>"kinakom0chi 2級", "後手"=>"0208action 初段", "開始日時"=>"2019/03/24 21:24:43", "棋戦"=>"将棋ウォーズ(3分切れ負け)", "場所"=>"http://kif-pona.heroz.jp/games/kinakom0chi-0208action-20190324_212443", "持ち時間"=>"00:03+00", "先手の囲い"=>"高美濃囲い", "先手の戦型"=>"嬉野流", "後手の戦型"=>"...   | 2019-03-28 19:22:32 +0900 |                 0 | 2019-03-28 19:22:32 +0900 | 2019-03-28 19:22:32 +0900 | 平手       |                  |                 |                    |               |                |                 |
# >> |-----+-----------------------------------------+---------------------------+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+-------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------+-------------------+---------------------------+---------------------------+------------+------------------+-----------------+--------------------+---------------+----------------+-----------------|
